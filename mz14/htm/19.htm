<html><head><meta http-equiv=Content-Type content="text/html; charset=iso-8859-2"><link rel=stylesheet href=magazin.css TYPE=text/css><title>MagaZin #14 :: grudzieñ 2002</title></head><body link=#478DE7 vlink=#478DE7 alink=#478DE7 topmargin=0 bottommargin=0 bgcolor=#000000><div align=center><table border=0 width=650 style="border-style: solid; border-width: 0" cellspacing=0 cellpadding=0 bgcolor=#FFFFFF><tr><td width=100% height=70 valign=middle background=../img/003b.png><div align=center><table border=0 width=550 cellspacing=0 cellpadding=0 height=28><tr><td width=550 align=center height=26 valign=bottom><p class=9ptV align=right><font color=#FFFFFF><b>MAGAZIN #14 :: STRONA 19</b></font></td></tr></table></div></td></tr><center><tr><td width=100% height=20 valign=bottom></center><div align=center><table border=0 width=586 height=20 cellspacing=0 cellpadding=0><tr><td width=135 background=../img/line3.gif><p align=right><img border=0 src=../img/line.gif width=9 height=20></td><center><td width=310 valign=bottom><p align=center class=9ptV><a href=18.htm class=link2><font color=#2078A8>poprzednia strona</font></a><font color=#4048A8> </font><font color=#2078A8>::</font><font color=#4048A8> </font><a href=spis.htm class=link2><font color=#2078A8>spis tre¶ci</font></a><font color=#4048A8> </font><font color=#2078A8>::</font><font color=#4048A8> </font><a href=20.htm class=link2><font color=#2078A8>nastêpna strona</font></a></td><td width=135 background=../img/line3.gif><img border=0 src=../img/line2.gif width=9 height=20></td></tr></table></center></div></td></tr><center><tr><td width=100% height=5 valign=top><p class=9ptV>&nbsp;</td></tr><tr><td width=100% height=5 valign=top><div align=center><center><table border=0 width=590 cellspacing=0 cellpadding=0><tr><td width=590 valign=top class=9ptV height=20 style="border-bottom: 1 solid #2078A8" colspan=2><b><font color=#009830><img border=0 src=../img/kwad.gif width=8 height=8> </font><font color=#2078A8>SOFTWARE</font></b></td></tr><tr><td width=537><p><font face=Impact size=7 color=#E0F0F8><span style="background-color: #2078A8">M</span></font><font face=Impact size=7 color=#000000>S-DOS Tutorial, cz. 2</font></td></center></center><td width=49><p align=right></td></tr><center><center><tr><td width=588 valign=bottom class=9ptV height=20 colspan=2><a href=mailto:leho@cybertech.prv.pl class=link2><b><font color=#2078A8>Leho</font></b></a></td></tr><tr><td width=588 height=10 colspan=2></td></tr></table></center></div></center></td></tr><tr><td width=100% height=21 valign=top><div align=center><center><table border=0 width=600 cellspacing=0 cellpadding=6 height=20 bgcolor=#FFFFFF><tr><td width=285 height=20 valign=top class=9pt></center><p class=9ptV align=justify><b>Budowa i sposób dzia³ania systemu</b><br> <br> <font color=#1F77A4>Skrót DOS oznacza - Disk Operating System (Dyskowy System Operacyjny).<br> Jest on przeznaczony dla komputerów budowanych w oparciu o procesory z rodziny Intel oraz o procesory z kompatybilne z Intelowskimi np.: AMD, Cyrix.</font><br> <br> <font color=#2078A8><img border=0 src=../img/003_d.gif style="float: left" width=22 height=38></font>OS jest to zestaw programów umo¿liwiaj±cych zarz±dzanie komputerem, a dok³adnie jego zasobami. Czyli dok³adniej mówi±c zajmuje siê przetwarzaniem danych wprowadzanych z klawiatury oraz wyprowadzaniem ich na ekran, przesy³anie danych pomiêdzy pamiêci± komputera a napêdami dyskowymi.<br> <br> Ca³y system sk³ada siê z czterech g³ównych czê¶ci ³adowanych do pamiêci RAM:<br> <br> 1. Programu ³aduj±cego<br> 2. Bloku MS DOS<br> 3. Systemu wej¶cia/wyj¶cia<br> 4. Interpretera poleceñ<br> <br> Ad 1. Program ³aduj±cy<br> <br> Program ³aduj±cy jest to program umieszczony na &quot;zerowym&quot; sektorze dysku zwanym sektorem rozruchowym MBR - Master Boot Record<br> Zadaniem tego programu jest uruchomienie systemu. Programy te nazywa siê loaderami lub boot menagerami.<br> Np.: gdy ma siê zainstalowane dwa systemy operacyjne na jednym dysku np.: Linux i Windows, to do sektora MBR zapisywany jest program LILO - LinuxLOader, którego zadaniem jest uruchomiæ w zale¿no¶ci od potrzeb u¿ytkownika albo Linuxa, albo DOSa. Gdy usuniemy Linuxa i sformatujemy jego partycjê, LILO nadal pozostanie w sektorze MBR i BIOS nadal bêdzie go wywo³ywa³. DOS ma w³asny loader, który jest instalowany<br> automatycznie podczas formatowania z nanoszeniem plików systemowych format A: /s (bootowanie dysku)<br> Wgraæ do sektora MBR DOSowy loader mo¿na równie¿ poleceniem fdisk /mbr<br> polecenie to usuwa LILO z sektora MBR i wgrywa DOS loadera bez konieczno¶ci formatowania ca³ego dysku.<br> <br> Ad 2. Blok MS-DOS<br> <br> Blok ten s³u¿y do zarz±dzania plikami. Tzn., odpowiada on za kopiowanie plików, kasowanie, przenoszenie itp.<br> <br> Ad 3. System wej¶cia/wyj¶cia (I/O)<br> <br> System ten pozwala komunikowaæ siê z ró¿nymi urz±dzeniami zewnêtrznymi. Realizuje transmisjê z urz±dzenia do urz±dzenia. Np. wyprowadza wprowadzane dane z urz±dzenia wej¶ciowego, jakim jest klawiatura na urz±dzenie wyj¶ciowe, jakim jest monitor.<br> <br> Ad 4. Interpreter poleceñ<br> <br> Aby jednak u¿ytkownik móg³ &quot;dogadaæ&quot; siê z systemem operacyjnym i po naci¶niêciu klawisza R zosta³o cokolwiek wy¶wietlone, a doskonale bêdzie, je¿eli zostanie wy¶wietlona równie¿ litera R, potrzebny jest interpreter poleceñ. Takim interpreterem jest command.com<br> <br> <b>Pliki systemowe&nbsp;</b><br> <br> Autoexec.bat<br> <br> Jego nazwa pochodzi od Automatic Execution, czyli automatyczne wykonywanie. Plik ten znajduje siê w katalogu g³ównym czyli najczê¶ciej na dysku C:. Jest to zwyk³y plik tekstowy, w którym zapisane s± zadania, jakie system ma wykonaæ przy ³adowaniu siê.<br> Tak wygl±da przyk³adowy Autoexec.bat<br> <br><table border=0 width=100% cellspacing=0 cellpadding=0 style="border: 1 solid #1F77A4" bgcolor=#E0F0F8><tr><td width=100%><div align=center><table border=0 width=269 cellspacing=0 cellpadding=0><tr><td width=267 height=8><p class=9ptV></td></tr><tr><td width=267 valign=top><p class=9ptV align=left><font color=#1F77A4>@echo off<br> PATH C:\WINDOWS;C:\WINDOWS\<br> COMMAND;C:\NC\;C:\NC\MOUSE;<br> SET GALAXY=A220 I5 D1 P530 K10 T6<br> SET BLASTER=A220 I5 D1 T4<br> rem C:\WINDOWS\COMMAND\MSCDEX<br> /D:MSCD001 /V<br> rem C:\NC\NC<br> mode con codepage prepare=((852) C:\WINDOWS\COMMAND\ega.cpi)<br> mode con codepage select=852<br> keyb pl,,C:\WINDOWS\COMMAND\keybrd4.sys<br> C:\MSCDEX /D:MSCD001 /V</font></td></tr><tr><td width=267 height=8><p class=9ptV></td></tr></table></div></td></tr></table><p class=9ptV align=justify>W wierszu oznaczonym nazw± PATH wpisuje siê ¶cie¿kê dostêpu do najczê¶ciej u¿ywanych w DOSie programów, np.: do programu Norton Commander (nc)<br> <br> PATH C:\nc;C:\borland\cpp;C:\nc\mouse;<br> <br> Ogólnie rzecz bior±c, Autoexec.bat jest najzwyklejszym plikiem programowania wsadowego i rz±dzi siê tymi samymi zasadami co i one, z tym, ¿e jest ³adowany przy starcie systemu. Wiêcej o plikach bat i programowaniu wsadowym w jednej z kolejnych czê¶ci tutoriala.<br> Polecenie @echo off wy³±cza wy¶wietlanie dzia³ania polecenia. Wy¶wietlany jest tylko efekt wykonywanego polecenia. Np.:<br> <br> Widok ekranu z wy³±czonym echo - @echo off<br> <br><table border=0 width=100% cellspacing=0 cellpadding=0 style="border: 1 solid #1F77A4" bgcolor=#E0F0F8><tr><td width=100%><div align=center><table border=0 width=269 cellspacing=0 cellpadding=0><tr><td width=267 height=8><p class=9ptV></td></tr><tr><td width=267 valign=top><p class=9ptV align=left><font color=#1F77A4>MODE: zakoñczono przygotowanie obs³ugi strony kodowej<br> <br> MODE: zakoñczono wybieranie obs³ugi strony kodowej</font></td></tr><tr><td width=267 height=8><p class=9ptV></td></tr></table></div></td></tr></table><p class=9ptV>Widok ekranu z w³±czonym echo - @echo on<br> <br><table border=0 width=100% cellspacing=0 cellpadding=0 style="border: 1 solid #1F77A4" bgcolor=#E0F0F8><tr><td width=100%><div align=center><table border=0 width=269 cellspacing=0 cellpadding=0><tr><td width=267 height=8><p class=9ptV></td></tr><tr><td width=267 valign=top><p class=9ptV align=left><font color=#1F77A4>C:\&gt;mode con codepage prepare=((852) C:\WINDOWS\COMMAND\ega.cpi)<br> MODE: zakoñczono przygotowanie obs³ugi strony kodowej</font></td></tr><tr><td width=267 height=8><p class=9ptV></td></tr></table></div></td></tr></table></td><td width=285 height=20 valign=top class=9pt><table border=0 width=100% cellspacing=0 cellpadding=0 style="border: 1 solid #1F77A4" bgcolor=#E0F0F8><tr><td width=100%><div align=center><table border=0 width=269 cellspacing=0 cellpadding=0><tr><td width=267 height=8><p class=9ptV></td></tr><tr><td width=267 valign=top><p class=9ptV align=left><font color=#1F77A4>C:\&gt;mode con codepage select=852<br> MODE: zakoñczono wybieranie obs³ugi strony kodowej<br> C:\&gt;keyb pl,,C:\WINDOWS\COMMAND\keybrd4.sys<br> C:\&gt;</font></td></tr><tr><td width=267 height=8><p class=9ptV></td></tr></table></div></td></tr></table><p class=9ptV align=justify>Config.sys<br> <br> Jest to równie¿ plik tekstowy podobny do Autoexec.bat, z tym, ¿e jego zadanie polega na wczytaniu ró¿nych sterowników, czyli po prostu zawiera polecenia konfiguruj±ce system.&nbsp;<br> <br><table border=0 width=100% cellspacing=0 cellpadding=0 style="border: 1 solid #1F77A4" bgcolor=#E0F0F8><tr><td width=100%><div align=center><table border=0 width=269 cellspacing=0 cellpadding=0><tr><td width=267 height=8><p class=9ptV></td></tr><tr><td width=267 valign=top><p class=9ptV align=left><font color=#1F77A4>device=HIMEM.SYS<br> device=A:\display.sys con=(ega,,1)<br> Country=048,852,A:country.sys<br> rem DEVICE=C:\CDPRO\VIDE-CDD.SYS /D:MSCD001<br> DEVICE=A:\SSCDROM.SYS /D:SSCD000 /v</font></td></tr><tr><td width=267 height=8><p class=9ptV></td></tr></table></div></td></tr></table><p class=9ptV align=justify>Najpro¶ciej rzecz ujmuj±c, Autoexec.bat s³u¿y do wywo³ywania katalogów oraz plików wykonywalnych np. dosowego sterownika CD-ROMu MSCDEX.EXE, bez którego ¿aden CD-ROM nie ruszy.<br> <br><table border=0 width=100% cellspacing=0 cellpadding=0 style="border: 1 solid #1F77A4" bgcolor=#E0F0F8><tr><td width=100%><div align=center><table border=0 width=269 cellspacing=0 cellpadding=0><tr><td width=267 height=8><p class=9ptV></td></tr><tr><td width=267 valign=top><p class=9ptV align=left><font color=#1F77A4>C:\WINDOWS\COMMAND\MSCDEX<br> /D:MSCD001 /V</font></td></tr><tr><td width=267 height=8><p class=9ptV></td></tr></table></div></td></tr></table><p class=9ptV align=justify>Natomiast Config.sys s³u¿y do uruchamiania procedur steruj±cych ró¿nymi urz±dzeniami zapisanych w plikach z rozszerzeniem *.sys, np.: HIMEM.SYS, COUNTRY.SYS itp.&nbsp;<br> <br> IO.SYS i MSDOS.SYS<br> Te dwa pliki, to j±dro ca³ego systemu MS DOS<br> <br> Io.sys<br> <br> jest programem czê¶ciowo przejmuj±cym i rozszerzaj±cym mo¿liwo¶ci BIOSu.<br> (sterowanie urz±dzeniami zewnêtrznymi zainstalowanymi przez u¿ytkownika).<br> <br> Msdos.sys<br> <br> ten program jest ju¿ programem wysokiego rzêdu. Korzysta on z po¶rednictwa BIOSu i Io.sys podczas komunikacji z urz±dzeniami zewnêtrznymi i jest jakby ³±czem miêdzy procedurami niskiego i wysokiego poziomu. Dlatego s³u¿y on miêdzy innymi do wywo³ywania programów zewnêtrznych, takich jak format. Mimo to program ten jest zwyk³ym plikiem tekstowym o takiej budowie:&nbsp;<br> <br><table border=0 width=100% cellspacing=0 cellpadding=0 style="border: 1 solid #1F77A4" bgcolor=#E0F0F8><tr><td width=100%><div align=center><table border=0 width=269 cellspacing=0 cellpadding=0><tr><td width=267 height=8><p class=9ptV></td></tr><tr><td width=267 valign=top><p class=9ptV align=left><font color=#1F77A4>;FORMAT<br> [Paths]<br> WinDir=C:\WINDOWS<br> WinBootDir=C:\WINDOWS<br> HostWinBootDrv=C<br> <br> [Options]<br> BootMulti=1<br> BootGUI=1<br> Network=0<br> Logo=0<br> ;<br> ;The following lines are required for compatibility with other programs.<br> ;Do not remove them (MSDOS.SYS needs to be >1024 bytes).<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxa<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxb<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxc<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxd<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxe<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxf<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxg<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxh<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxi<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxj<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxk<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxl<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxm<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxn<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxo<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxp<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxq<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxr<br> ;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxs</font></td></tr><tr><td width=267 height=8><p class=9ptV></td></tr></table></div></td></tr></table><p class=9ptV align=justify>Tak wiêc te dwa pliki stanowi± j±dro systemu MS-DOS i bez nich komputer nie wystartuje (nawet Win95. A mówili, ¿e Windows95 jest samodzielnym systemem operacyjnym).<br> Gdy tych dwóch plików nie bêdzie na dysku, zostaniemy powitani takim komunikatem:<br> <br><table border=0 width=100% cellspacing=0 cellpadding=0 style="border: 1 solid #1F77A4" bgcolor=#E0F0F8><tr><td width=100%><div align=center><table border=0 width=269 cellspacing=0 cellpadding=0><tr><td width=267 height=8><p class=9ptV></td></tr><tr><td width=267 valign=top><p class=9ptV align=left><font color=#1F77A4>Non-System disk or disk error<br> Replace and strike any key when ready</font></td></tr><tr><td width=267 height=8><p class=9ptV></td></tr></table></div></td></tr></table><p class=9ptV align=justify>PS. Gdy próbujemy odczytaæ dyskietkê, której nie ma w stacji dysków, DOS w wersji polskiej skiwituje nas takim odkryciem :) Bie¿±cy dysk nie jest ju¿ byæ prawid³owy><br> <br> Command.com<br> <br> Jak ju¿ wcze¶niej napisa³em, aby u¿ytkownik móg³ "dogadaæ" siê z systemem operacyjnym i po naci¶niêciu klawisza R zosta³o cokolwiek wy¶wietlone, a doskonale bêdzie, je¿eli zostanie wy¶wietlona równie¿ litera R, potrzebny jest interpreter poleceñ. Takim interpreterem jest command.com. Command.com porównuje otrzymany rozkaz z list± poleceñ wewnêtrznych, znajduj±cych siê w pamiêci operacyjnej, a nastêpnie odszukuje program o nazwie zgodnej z t±, która zosta³a wprowadzona z klawiatury.<br> Je¿eli program zostanie odnaleziony, to jest wykonywany. Je¿eli nie, to wy¶wietlany jest komunikat:<br> <br><table border=0 width=100% cellspacing=0 cellpadding=0 style="border: 1 solid #1F77A4" bgcolor=#E0F0F8><tr><td width=100%><div align=center><table border=0 width=269 cellspacing=0 cellpadding=0><tr><td width=267 height=8><p class=9ptV></td></tr><tr><td width=267 valign=top><p class=9ptV align=left><font color=#1F77A4>Z³a komenda lub nazwa pliku</font></td></tr><tr><td width=267 height=8><p class=9ptV></td></tr></table></div></td></tr></table><div align=center><table border=0 width=100% cellspacing=0 cellpadding=0><tr><td width=100%><p align=right><font face=Arial size=1 color=#000000><br> <img border=0 src=../img/kwad_03.gif width=8 height=8> </font><a href=http://www.magazin.prv.pl class=link><font face=Arial size=1 color=#2078A8>MZ</font></a></p></td></tr></table></div></td></tr></table></div></td></tr><tr><center><td width=100% height=20 valign=bottom></center><div align=center><table border=0 width=586 height=20 cellspacing=0 cellpadding=0><tr><td width=135 background=../img/line3.gif><p align=right><img border=0 src=../img/line.gif width=9 height=20></td><center><td width=310 valign=bottom><p align=center class=9ptV><a href=18.htm class=link2><font color=#2078A8>poprzednia strona</font></a><font color=#4048A8> </font><font color=#2078A8>::</font><font color=#4048A8> </font><a href=spis.htm class=link2><font color=#2078A8>spis tre¶ci</font></a><font color=#4048A8> </font><font color=#2078A8>::</font><font color=#4048A8> </font><a href=20.htm class=link2><font color=#2078A8>nastêpna strona</font></a></td><td width=135 background=../img/line3.gif><img border=0 src=../img/line2.gif width=9 height=20></td></tr></table></center></div></td></tr><tr><td width=100% height=65 valign=top background=../img/003c.png><div align=center><center><table border=0 width=592 cellspacing=0 cellpadding=0 height=55><tr><td width=590 height=55><p align=center class=9ptV><b><font color=#FFFFFF>WSZELKIE PRAWA ZASTRZE¯ONE :: COPYRIGHT &copy; LOOPUSNET/MAGAZIN 2001-2002</font></b></td></tr></table></center></div></td></tr></table></div></body></html>
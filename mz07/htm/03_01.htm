<html><head><meta http-equiv=Content-Type content="text/html; charset=iso-8859-2"><link rel=stylesheet href=magazin.css TYPE=text/css><title>MagaZin #7 :: Styczeñ 2002</title></head><body link=#478DE7 vlink=#478DE7 alink=#478DE7 topmargin=0 bottommargin=0 background=../img/elec1.gif><div align=center><center><table border=0 width=720 cellspacing=0 cellpadding=0 height=742><tr><td width=3 bgcolor=#000000 height=558>&nbsp;</td><td width=171 bgcolor=#0080C0 height=558 valign=top><div align=center><table border=0 width=90% cellspacing=0 cellpadding=0 height=5><tr><td width=100% height=15 valign=top></td></tr><tr><td width=100% height=5 valign=top><p align=center><img border=0 src=../img/mt_d.gif width=120 height=121></td></tr><tr><td width=100% height=15 valign=top></td></tr><tr><td width=100% height=1 valign=top><hr color=#FFFFFF size=1></td></tr><tr><td width=100% height=7 valign=top><p align=center class=9ptV><b><font color=#D1D1D1>MENU</font></b></td></tr><tr><td width=100% height=1 valign=top><hr color=#FFFFFF size=1></td></tr><tr><td width=100% height=5 valign=top></td></tr><tr><td width=100% height=3 valign=top><p class=9ptV align=center><a href=01_02.htm#i class=link2><font color=#FFFFFF><b>INTRODUKCJA</b></font></a><b><font color=#FFFFFF><br> </font></b><a href=01_02.htm#g class=link2><font color=#FFFFFF><b>GRAMY!</b></font></a><b><font color=#FFFFFF><br> </font></b><a href=01_02.htm#k class=link2><font color=#FFFFFF><b>KOMPUTER</b></font></a><b><font color=#FFFFFF><br> </font></b><a href=01_02.htm#c class=link2><font color=#FFFFFF><b>CZYTELNIA</b></font></a><b><font color=#FFFFFF><br> </font></b><a href=01_02.htm#f class=link2><font color=#FFFFFF><b>FILM</b></font></a><b><font color=#FFFFFF><br></font></b></td></tr><tr><td width=100% height=5 valign=top></td></tr><tr><td width=100% height=1 valign=top><hr color=#FFFFFF size=1></td></tr><tr><td width=100% height=5 valign=top></td></tr><tr><td width=100% height=5 valign=top><p class=9ptV align=center><b><font color=#D1D1D1>WWW:</font></b><br> <a href=http://www.magazin.prv.pl class=link2><font color=#FFFFFF><b>www.magazin.prv.pl</b> </font></a><font color=#FFFFFF><b><br> </b></font><br> <b><font color=#D1D1D1>E-mail:</font></b><br> <a href=mailto:magazin@hoga.pl class=link2><font color=#FFFFFF><b>magazin@hoga.pl</b></font></a><font color=#FFFFFF><b><br> </b><a href=mailto:listy.magazin@hoga.pl class=link2><font color=#FFFFFF><b>listy.magazin@hoga.pl</b></font></a><b><br></b></font></td></tr></center><center></table></div></center></td><td width=4 bgcolor=#000000 height=558>&nbsp;</td><td width=539 bgcolor=#F3F3F3 height=558 valign=top><div align=center><table border=0 width=516 cellspacing=0 cellpadding=0><tr><td width=514 height=10 colspan=3></td></tr><tr><td width=85 height=10><p class=9ptV><a href=02_06.htm class=link2>&lt; poprzednia</a></p></td><td width=381 height=10><p align=center class=9ptV><b>18</b></td><td width=85 height=10><p align=right class=9ptV><a class=link2 href=03_02.htm>nastêpna &gt;</a></td></tr><center><tr><td width=514 height=20 valign=middle colspan=3><hr color=#000000 size=1></td></tr></center><tr><td width=514 colspan=3><p align=left class=u><font face=Arial size=4>Kurs JavaScript #6</font></p></td></tr><center><tr><td width=514 height=10 valign=top colspan=3><hr color=#000000 size=1></td></tr></center><tr><td width=514 class=9ptV colspan=3><p align=justify class=9ptV><br> Podstawy pod u¿ywanie formularzy w JavaScript wyja¶ni³em we wcze¶niejszych rozdzia³ach. Te wiadomo¶ci wystarcz± nam do napisania skryptu sprawdzaj±cego czy wpisali¶my poprawnie adres e-mail.<br> <br> <b>Wyszukiwanie znaków&nbsp;</b><br> <br> Do wyszukiwania znaków s³u¿y metoda <b>indexOf()</b>. My chcemy aby skrypt wyszukiwa³ symbolu "@" i jednej ".". Zaczniemy od stworzenia okienka tekstowego i przycisku:<br> <br> <font color=#478DE7>&lt;form name="spr_email"><br> &lt;input type="text" name="email"><br> &lt;input type="button" value="sprawdz"><br> &lt;/form></font><br> <br> Teraz tworzymy odpowiedni± funkcjê:<br> <br> <font color=#478DE7>function sprawdz_email()<br> {&nbsp;<br> if (spr_email.email.value.indexOf('@',0) == -1 ||&nbsp;<br> spr_email.email.value.indexOf('.',0) == -1)&nbsp;<br> alert("Niepoprawny adres poczty elektronicznej!");&nbsp;<br> else&nbsp;<br> alert("OK!");&nbsp;<br> }</font><br> <br> Warto¶æ -1 oznacza null czyli nic. Nasz skrypt nie znalaz³ @ i kropki. Natomiast <b>value</b> oznacza warto¶æ przechowywan± w okienku tekstowym. Je¶li wpiszemy do niego nasz e-mail to JavaScript bêdzie to traktowa³ jako <b>value</b> i tu wyszukiwa³ @ i kropki.<br> <br> Teraz powi±¿emy wszystko w jedn± ca³o¶æ<br> <br> <font color=#478DE7>&lt;script language="JavaScript">&nbsp;<br> &lt;!--&nbsp;<br> <br> function sprawdz_email()<br> {&nbsp;<br> if (spr_email.email.value.indexOf('@',0) == -1 ||&nbsp;<br> spr_email.email.value.indexOf('.',0) == -1)&nbsp;<br> alert("Niepoprawny adres poczty elektronicznej!");&nbsp;<br> else&nbsp;<br> alert("OK!");&nbsp;<br> }<br> <br> // -->&nbsp;<br> &lt;/script>&nbsp;<br> <br> &lt;form name="spr_email"><br> &lt;input type="text" name="email"><br> &lt;input type="button" value="sprawdz" onclick="sprawdz_email()><br> &lt;/form></font><br> <br> <b>Emailery</b><br> <br> Umiemy ju¿ sprawdzaæ poprawno¶æ adresu e-mail. Teraz nauczymy siê robiæ formularz wysy³aj±cy e-mail pod wskazany przez nas adres. Nasz emailer bêdzie wyglada³ tak:<br> <br> (Tutaj powinien byæ formularz, który wygl±da tak, tzn. tam gdzie s± kropki tam powinna byæ raka taka jak w skryptach na ksiêgi go¶ci itp.)<br> <br> <font color=#000000>e-mail:...................................................<br> temat:....................................................<br> tre¶æ:.....................................................<br> <br> wy¶lij wyczy¶æ</font><br> <br> Na pocz±tek tworzymy formularz, który pos³u¿y nam do wysy³ania e-maili:<br> <br> <font color=#478DE7>&lt;form name="wwwemail" method="post"><br> &lt;input type="text" name="email" size="20">&lt;br><br> &lt;input type="text" name="temat" size="20">&lt;br><br> &lt;textarea cols="43" rows="13" TYPE="TEXT" NAME="tresc"<br> MAXLENGTH="580">&lt;/textarea>&lt;br><br> &lt;input type="submit" value="wyslij"> &lt;input type="reset" value="wyczysc">&nbsp;<br> &lt;/form></font><br> <br> Teraz tworzymy funkcjê sprawdzajac± adres e-mail:<br> <br> <font color=#478DE7>function sprawdz_email()<br> {&nbsp;<br> if (wwwemail.email.value.indexOf('@',0) == -1 ||&nbsp;<br> wwwemail.email.value.indexOf('.',0) == -1)&nbsp;<br> alert("Niepoprawny adres poczty elektronicznej!");&nbsp;<br> else&nbsp;<br> wyslij();&nbsp;<br> }</font><br> <br> Jak przyjrzymy siê temu kodowi widzimy na koñcu funkcjê <b>wyslij()</b>, pos³u¿y ona nam do definicji parametrów naszego emailera. Postaæ funkcji <b>wyslij()</b> wygl±da nastêpuj±co:<br> <br> <font color=#478DE7>function wyslij()<br> {<br> temat = "?subject=" + wwwemail.temat.value;<br> email = "mailto:" + wwwemail.email.value + temat;<br> document.wwwemail.action = email;<br> }</font><br> <br> Zmiennej temat przypisujemy polecenie powoduj±ce umieszczenie tematu do naszego listu. Do tego dopisujemy warto¶æ okienka z tematem. Nastêpn± zmienn± jest <b>email</b>. Jej przypisujemy ogóln± definicjê znan± z HTML do wysy³ania listów. Metoda <b>document.wwwemail.action</b> powoduje przypisanie poleceniu <b>action</b> adresu e-mail z tematem.<br> <br> Teraz musimy posk³adaæ nasz kod do kupy:<br> <br> <font color=#478DE7>&lt;script language="JavaScript">&nbsp;<br> &lt;!--&nbsp;<br> var temat;<br> var email;<br> <br> function sprawdz_email()<br> {&nbsp;<br> if (wwwemail.email.value.indexOf('@',0) == -1 ||&nbsp;<br> wwwemail.email.value.indexOf('.',0) == -1)&nbsp;<br> alert("Niepoprawny adres poczty elektronicznej!");&nbsp;<br> else&nbsp;<br> wyslij();&nbsp;<br> }<br> <br> function wyslij()<br> {<br> temat = "?subject=" + wwwemail.temat.value;<br> email = "mailto:" + wwwemail.email.value + temat;<br> document.wwwemail.action = email;<br> }<br> <br> // -->&nbsp;<br> &lt;/script><br> <br> &lt;form name="wwwemail" method="post" onsubmit="sprawdz_email()"><br> &lt;input type="text" name="email" size="20">&lt;br><br> &lt;input type="text" name="temat" size="20">&lt;br><br> &lt;textarea cols="43" rows="13" TYPE="TEXT" NAME="tresc"<br> MAXLENGTH="580">&lt;/textarea>&lt;br><br> &lt;input type="submit" value="wyslij"> &lt;input type="reset" value="wyczysc">&nbsp;<br> &lt;/form></font><br> <br> Proszê zwróciæ uwagê na sposób odwo³ania siê do ca³ego skryptu za pomoc± polecenia <b>onsubmit</b>. Zawsze umieszczamy go w sekcji &lt;form>. Wa¿ne jest takze umieszczenie <b>method=&quot;post&quot;</b>, gdy¿ gwarantuje ona pobranie wszystkich informacji z naszego formularza.<br> <br></td></tr><tr><td width=514 colspan=3><hr color=#000000 size=1></td></tr><tr><td width=514 colspan=3><p align=right class=9ptV><a href=mailto:chelmos@poczta.onet.pl class=link2><b>Allo</b></a></td></tr></table></div></td><td width=4 bgcolor=#000000 height=558>&nbsp;</td></tr><tr><td width=3 bgcolor=#000000 height=20 rowspan=2>&nbsp;</td><td width=171 bgcolor=#0080C0 height=20 valign=top rowspan=2>&nbsp;</td><td width=4 bgcolor=#000000 height=20 rowspan=2>&nbsp;</td><td width=539 bgcolor=#F3F3F3 height=15 valign=top><hr color=#000000 size=1 width=95%></td><td width=4 bgcolor=#000000 height=20 rowspan=2>&nbsp;</td></tr><tr><td width=539 bgcolor=#F3F3F3 height=20 valign=top><p align=center class=9ptV>Copyright &copy; MagaZin 2001-2002</td></tr></table></div></body></html>
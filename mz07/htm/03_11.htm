<html><head><meta http-equiv=Content-Type content="text/html; charset=iso-8859-2"><link rel=stylesheet href=magazin.css TYPE=text/css><title>MagaZin #7 :: Styczeñ 2002</title></head><body link=#478DE7 vlink=#478DE7 alink=#478DE7 topmargin=0 bottommargin=0 background=../img/elec1.gif><div align=center><center><table border=0 width=720 cellspacing=0 cellpadding=0 height=742><tr><td width=3 bgcolor=#000000 height=558>&nbsp;</td><td width=171 bgcolor=#0080C0 height=558 valign=top><div align=center><table border=0 width=90% cellspacing=0 cellpadding=0 height=5><tr><td width=100% height=15 valign=top></td></tr><tr><td width=100% height=5 valign=top><p align=center><img border=0 src=../img/mt_d.gif width=120 height=121></td></tr><tr><td width=100% height=15 valign=top></td></tr><tr><td width=100% height=1 valign=top><hr color=#FFFFFF size=1></td></tr><tr><td width=100% height=7 valign=top><p align=center class=9ptV><b><font color=#D1D1D1>MENU</font></b></td></tr><tr><td width=100% height=1 valign=top><hr color=#FFFFFF size=1></td></tr><tr><td width=100% height=5 valign=top></td></tr><tr><td width=100% height=3 valign=top><p class=9ptV align=center><a href=01_02.htm#i class=link2><font color=#FFFFFF><b>INTRODUKCJA</b></font></a><b><font color=#FFFFFF><br> </font></b><a href=01_02.htm#g class=link2><font color=#FFFFFF><b>GRAMY!</b></font></a><b><font color=#FFFFFF><br> </font></b><a href=01_02.htm#k class=link2><font color=#FFFFFF><b>KOMPUTER</b></font></a><b><font color=#FFFFFF><br> </font></b><a href=01_02.htm#c class=link2><font color=#FFFFFF><b>CZYTELNIA</b></font></a><b><font color=#FFFFFF><br> </font></b><a href=01_02.htm#f class=link2><font color=#FFFFFF><b>FILM</b></font></a><b><font color=#FFFFFF><br></font></b></td></tr><tr><td width=100% height=5 valign=top></td></tr><tr><td width=100% height=1 valign=top><hr color=#FFFFFF size=1></td></tr><tr><td width=100% height=5 valign=top></td></tr><tr><td width=100% height=5 valign=top><p class=9ptV align=center><b><font color=#D1D1D1>WWW:</font></b><br> <a href=http://www.magazin.prv.pl class=link2><font color=#FFFFFF><b>www.magazin.prv.pl</b> </font></a><font color=#FFFFFF><b><br> </b></font><br> <b><font color=#D1D1D1>E-mail:</font></b><br> <a href=mailto:magazin@hoga.pl class=link2><font color=#FFFFFF><b>magazin@hoga.pl</b></font></a><font color=#FFFFFF><b><br> </b><a href=mailto:listy.magazin@hoga.pl class=link2><font color=#FFFFFF><b>listy.magazin@hoga.pl</b></font></a><b><br></b></font></td></tr></center><center></table></div></center></td><td width=4 bgcolor=#000000 height=558>&nbsp;</td><td width=539 bgcolor=#F3F3F3 height=558 valign=top><div align=center><table border=0 width=516 cellspacing=0 cellpadding=0><tr><td width=514 height=10 colspan=3></td></tr><tr><td width=85 height=10><p class=9ptV><a href=03_10.htm class=link2>&lt; poprzednia</a></p></td><td width=381 height=10><p align=center class=9ptV><b>28</b></td><td width=85 height=10><p align=right class=9ptV><a class=link2 href=03_12.htm>nastêpna &gt;</a></td></tr><center><tr><td width=514 height=20 valign=middle colspan=3><hr color=#000000 size=1></td></tr></center><tr><td width=514 colspan=3><p align=left class=u><font face=Arial size=4>Floppix Linux - instrukcja obs³ugi #4</font></p></td></tr><center><tr><td width=514 height=10 valign=top colspan=3><hr color=#000000 size=1></td></tr></center><tr><td width=514 class=9ptV colspan=3><p align=justify class=9ptV><br> <b>User</b><br> <br> Gdy ju¿ siê oswoimy z Linuxem, chcemy dodaæ nowego u¿ytkownika. Niestety, we Floppiksie nie jest to takie proste. Nie ma tu polecenia adduser. Jak to zrobiæ? Otó¿, trzeba dobraæ siê do pliku passwd znajduj±cego siê w katalogu /etc. Dostêp do tego pliku maj± wszyscy u¿ytkownicy, ale modyfikowaæ mo¿e tylko root. Zatem aby podejrzeæ go wpisz polecenie:<br> <br> <font color=#478DE7>cat /etc/passwd<br> </font><br> Pojawi siê wtedy co¶ podobnego do tego:<br> <br> <font color=#478DE7>root:/Ls5eU/5sHLV.:0:0:root:/root:/bin/bash<br> daemon:*:1:1:daemon:/usr/sbin:/bin/sh<br> bin:*:2:2:bin:/bin:/bin/sh<br> sys:*:3:3:sys:/dev:/bin/sh<br> sync:*:4:100:sync:/bin:/bin/sync<br> games:*:5:100:games:/usr/games:/bin/sh<br> man:*:6:100:man:/var/catman:/bin/sh<br> lp:*:7:7:lp:/var/spool/lpd:/bin/sh<br> mail:*:8:8:mail:/var/spool/mail:/bin/sh<br> backup:*:34:34:backup:/var/backups:/bin/sh<br> operator:*:37:37:Operator:/var:/bin/sh<br> nobody:*:65534:65534:nobody:/home:/bin/sh<br> leho:/Tvrg81b78UDQ:1000:1000:root,,,:/home/leho:/bin/bash<br> alterego:/Tvrg81b78UDQ:1001:1001:root,,,:/home/alterego:/bin/bash<br> floopy:/Tvrg81b78UDQ:1002:1002:Wizard:/home/floopy:/usr/bin/flin</font><br> <br> Plik passwd jest plikiem autoryzacyjnym w Linuxie i bez niego nikt nie bêdzie móg³ siê zalogowaæ do systemu. Aby nie &quot;skopaæ&quot; go sobie skopiujemy go na dyskietkê. Je¿eli nie wiesz, czy zamountowa³e¶ dyskietkê, wpisz polecenie mount. Teraz zostan± wy¶wietlone wszystkie zamountowane urz±dzenia. Je¿eli nie ma tam nic co by zawiera³o w nazwie /fd0, to znaczy, ¿e musisz zamountowaæ dyskietkê. Zrobisz to wk³adaj±c wcze¶niej przygotowany dysk do treningów (Dysk 3) i wpisujesz polecenie:<br> <br> <font color=#478DE7>mount -t msdos /dev/fd0 /mnt</font><br> <br> W³±czy³a siê teraz stacja dysków, a wiêc system zosta³ zamontowany. Teraz kopiujemy plik z has³ami na dyskietkê. Wpisujemy polecenie:<br> <br> <font color=#478DE7>cp /etc/passwd /mnt</font><br> <br> Zatwierdzamy to enterem. Po chwili plik zostanie skopiowany. No dobrze. Plik passwd skopiowany, ale jak dopisaæ co¶ tam i co w³a¶ciwie dopisaæ? Struktura wpisu powinna wygl±daæ tak:<br> <br> <font color=#478DE7>root:/Ls5eU/5sHLV.:0:0:root:/root:/bin/bash<br> login:password:uid:gid:name:/home:/shell</font><br> <br> login - to nazwa u¿ytkownika np.: root<br> passwd - to zaszyfrowane has³o np.: /Ls5eU/5sHLV.<br> uid - user id<br> gid - group id<br> name - nazwa u¿ytkownika<br> /home - katalog u¿ytkownika<br> /shell - jest to pow³oka przypisana do u¿ytkownika<br> <br> <b>Tworzymy nowego u¿ytkownika - hacker - o uprawnieniach roota</b><br> <br> 1. Najpierw musimy utworzyæ mu jego katalog domowy najlepiej z nazw± u¿ytkownika. Utworzymy go w katalogu /home. Wpisujemy polecenie:<br> <br> <font color=#478DE7># mkdir /home/hacker</font><br> <br> Teraz mozemy podejrzeæ, czy operacja siê uda³a wpisuj±c:<br> <br> <font color=#478DE7># ls /home/hacker</font><br> <br> Wy¶wietl± nam siê teraz wszystkie katalogi a w nim utworzony - hacker.<br> <br> 2. Teraz czas dopisaæ hackera do passwd. Mo¿emy zrobiæ to na dwa sposoby:<br> a) wyedytowaæ /etc/passwd za pomoc± vi: <font color=#000000># vi /etc/passwd.</font> Ale je¿eli nie znasz siê na vi to daruj sobie. O vi dowiesz siê z pó¼niejszych czê¶ci kursu.<br> b) mo¿na dodaæ za pomoc± polecenia cat.<br> My siê zajmiemy w³a¶nie dodawaniem wpisu za pomoc± polecenia cat, a wiêc wpisujemy:<br> <br> <font color=#478DE7># cat>> /etc/passwd</font><br> <br> I wciskamy enter. Teraz wpisujemy co¶ takiego:<br> <br> <font color=#478DE7>hacker::0:0:root,,,:/home/hacker:/bin/bash</font><br> <br> Wciskamy enter i koñczymy sesjê (Ctrl+D). No i powino byæ ju¿ dopisane. Sprawdzamy to wpisuj±c:<br> <br> <font color=#478DE7>cat /etc/passwd</font><br> <br> No to dodali¶my u¿ytkownika o uprawnieniach hacker, tzn. roota :) Czas teraz sprawdziæ, czy hacker nam siê zaloguje. Przechodzimy na jak±¶ woln± konsolê kombinacj± klawiszy Alt+F1, Alt+F2 lub Alt+F3. Je¿eli wszystkie s± ju¿ zajête to wpisz &quot;logout&quot; by siê wylogowaæ. Gdy pojawi siê ekran z logo Floppixa wpisz w miejsce loginu &quot;hacker&quot; i wci¶nij enter. Teraz powiniene¶ dostaæ siê do systemu jako hacker bez has³a. Ale co to za zabawa bez has³a. Czas teraz dodaæ has³o. Wpisujesz wiêc polecenie:<br> <br> <font color=#478DE7># passwd hacker</font><br> <br> Teraz pojawi siê notka prosz±ca Ciê o wpisanie has³a: a&nbsp;<br> O zatwierdzenie has³a: a<br> I jeszcze raz: a<br> Has³o zosta³o zmienione.&nbsp;<br> Teraz loguj±c siê jako hacker, bêdziesz musia³ podaæ has³o (w naszym przypadku jest to litera "a")<br> <br> <b>U¿ytkownik o uprawnieniach usera</b><br> <br> Taki gostek mo¿e tylko przegl±daæ pliki i uruchamiaæ niektóre polecenia i programy. Ale tacy te¿ s± potrzebni. Wpis dla usera wygl±da mniej wiêcej tak:<br> <br> <font color=#478DE7>leho:/Tvrg81b78UDQ:1000:1000:root,,,:/home/leho:/bin/bash</font><br> <br> Jak widaæ zapis trochê siê zmieni³. Zamiast 0:0: widniej± cyfry 1000:1000: Co to oznacza? ¯e jest to zwyk³y u¿ytkownik. Znów powtarzamy te same czynno¶ci co przy dodawaniu hackera, z tym ¿e przyporz±dkowujemy mu inny katalog i w uid i gid wpisujemy 1000:1000. Oto przyk³ad:<br> <br> <font color=#478DE7># mkdir /home/luser</font> &lt;enter><br> <font color=#478DE7># ls /home/luser</font> &lt;enter><br> <font color=#478DE7># hacker luser<br> # cat>> /etc/passwd<br> luser::0:0:1000:1000:luser lamer,,,:/home/luser:/bin/bash</font><br> <br> Wci¶nij Enter a potem Ctrl+D:<br> <br> <font color=#478DE7># cat /etc/passwd</font> &lt;enter><br> <br> Proste i skuteczne. Jednak pamiêtaj, ¿e t± operacjê mo¿na przeprowadziæ tylko jako root, czyli u¿ytkownik uprzywilejowany, &quot;w³adca systemu&quot; - osoba, u której po zalogowaniu w linii poleceñ widnieje piêkny znaczek # (hash).<br> <br> <b>Haczymy, crackujemy</b><br> <br> Pewnie zastanawiasz siê, co mam na my¶li. Otó¿ postanowi³em pokazaæ Ci, jak ³atwo jest z³amaæ has³a unixowe znajduj±ce siê w plikach passwd. Do tego celu pos³u¿ê siê starym poczciwym Johnem the Ripperem 1.6. Jest to dosowy programik i bardzo dobry. Zatem kopiujê plik passwd na dyskietkê. Wpisujê polecenie reboot i wyjmujê dyskietkê ze stacji dysków. Po chwili system zamknie wszystkie procesy i zrestartuje komputer. Poniewa¿ nie mam ju¿ zdrowia pracowaæ w DOSie, nie wciskam klawisza F8 i pozwalam za³adowaæ siê Windowsowi (u mnie jest to Shit95, ale o tym pó¼niej :)). Windows mi siê uruchomi³ (albo raczej to co z niego pozosta³o - LiteStep potrafi zdzia³aæ cuda zw³aszcza z NextSTART 2000. Teraz czas uruchomiæ DOSa w okienku. Zaraz, jak to jest w normalnym Windowsie? U mnie to jest WinDOS (to taka moja nazwa :) i jest tu¿ pod rêk±. Aha. Start => Programy => Tryb MS-DOS. Pojawilo sie okienko DOSa iiiiii........<br> <br> <font color=#478DE7>C:\john>john -single passwd<br> Loaded 0 passwords, exiting...<br> <br> C:\john>john -show passwd<br> root:leho:0:0:root:/root:/bin/bash<br> ice:ice:1000:1000:root,,,:/home/ice:/bin/bash<br> alterego:a:1001:1001:root,,,:/home/alterego:/bin/bash<br> floopy:a:1002:1002:Wizard:/home/floopy:/usr/bin/flin<br> leho:NO PASSWORD:0:0:looooooo:/:/bin/bash<br> iceman:blabla:0:0:fds:/:/bin/bash<br> hacker:NO PASSWORD:0:0:gfj:/home/hacker/qurva/mac/jego/w/pizdu/koniec/tego/juz:/bin/bash<br> artzone:shit:0:0:dasdafsasfasfffffffffs:/root:/bin/bash<br> <br> 8 passwords cracked, 0 left<br> <br> C:\john>&nbsp;</font><br> <br> Jak sam widzisz has³a zosta³y z³amane. A to drugi przyk³ad:<br> <br> <font color=#478DE7>C:\john>john -single c:\e\passwd1<br> Loaded 1 password (Standard DES [48/64 4K])<br> guesses: 0 time: 0:00:00:00 100% c/s: 4516 trying: q1958 - f1969<br> <br> C:\john>john -show c:\e\passwd1<br> root:a:0:0:root:/root:/bin/bash<br> leho:root:1000:1000:root,,,:/home/a:/bin/bash<br> <br> 2 passwords cracked, 1 left</font><br> <br> No to ju¿ wiesz, ¿e nie op³aca siê stosowaæ hase³ typu bleble, shit, dupa itp. John the Ripper poradzi sobie z czym¶ takim szybciutko. Ale je¿eli jeste¶ uwa¿ny, to z pewno¶ci± zauwa¿y³e¶ w podsumowaniu co¶ takiego:<br> <br> <font color=#478DE7>2 passwords cracked, 1 left</font><br> <br> Otó¿ tutaj zastosowa³em has³o kombinowane i niestety John z nim sobie nie poradzi³.<br> Odno¶nie hase³ we Floppixie, to gdy chcesz zmieniæ has³o z poziomu usera, to mo¿esz je zmieniæ tylko sobie. I tak w tym przypdku Floppix nie pozwoli ci zmieniæ has³a, je¿eli nie przekroczy 8 znaków. No dobrze. Jeszcze pokombinujê z has³ami. Zaraz wracam, tylko wskoczê do Linucha. No ju¿ jestem. John ³amie has³a z czê¶ci± z nich rozprawi³ siê ju¿ na starcie, ale ma na razie problem z lubiepiwo. Oto wynik:<br> <br> <font color=#478DE7>C:\john>john -single passwd<br> <br> Loaded 6 passwords with 6 different salts (Standard DES [48/64 4K])<br> aloj (jola)<br> guesses: 1 time: 0:00:00:01 100% c/s: 18283 trying: home1956 - home1969</font><br> <br> Etap 2:<br> <br> <font color=#478DE7>C:\john>john -single passwd<br> Loaded 5 passwords with 5 different salts (Standard DES [48/64 4K])<br> guesses: 0 time: 0:00:00:01 100% c/s: 18086 trying: leho1957 - home1969<br> <br> C:\john>john -show passwd<br> jola:aloj:0:0:glupia malpa:/home:/bin/bash<br> hacker:NO PASSWORD:0:0:root:/home/bin/bash<br> marta:NO PASSWORD:1004:1004:niezla laska:/home/bin/bash<br> kot:NO PASSWORD:0:0:kociak:/home/bin/bash<br> <br> 4 passwords cracked, 5 left</font><br> <br> Jak widaæ, John nie spisa³ siê, ale jeszcze nic straconego. Postanowi³em skorzystaæ z do³±czonego do Johna s³ownika:<br> <br> <font color=#478DE7>C:\john>john passwd</font><br> <br> I John zacz±³ pracowaæ. Od razu na pocz±tku odgad³ jednoliterowe has³a. Pó¼niej odgad³ has³o dupa. John pracuje ju¿ 3 min. Zobaczymy, czy poradzi sobie z tak ciekawymi has³ami i w jakim zrobi to czasie. Po 6 min. odgad³ has³o pryta. Pozosta³o mu jeszcze has³o lubiepiwo.<br> <br> <font color=#478DE7>C:\john>john passwd<br> Loaded 5 passwords with 5 different salts (Standard DES [48/64 4K])<br> a (alterego)<br> a (root)<br> dupa (shit)<br> guesses: 3 time: 0:00:01:54 (3) c/s: 11969 trying: reack - rhain<br> guesses: 3 time: 0:00:03:53 (3) c/s: 13508 trying: cathourn - shottin1<br> pryta (floopy)<br> guesses: 4 time: 0:00:06:20 (3) c/s: 14307 trying: perrEAY - ab12812<br> guesses: 4 time: 0:00:13:20 (3) c/s: 14660 trying: roycyR - pagea1</font><br> <br> Juz 28 minut. Ciekawe kiedy odgadnie to niby proste has³o? No tak. John crackuje ju¿ przez 9 godzin i nic. Nie ma co siê dziwiæ w s³owniku nie ma czegos takiego jak lubiepiwo. Teraz sk³ada ró¿ne kombinacje ze s³ów, znaków i liter i stara siê odnale¼æ prawid³owe has³o. A oto efekty niemal¿e 10 godzinnej pracy Johna nad has³em lubiepiwo:<br> <br> <font color=#478DE7>guesses: 4 time: 0:00:47:09 (3) c/s: 10616 trying: Mup202 - p08nte<br> guesses: 4 time: 0:01:06:00 (3) c/s: 9141 trying: mcosh07 - belsby2<br> guesses: 4 time: 0:01:30:10 (3) c/s: 10003 trying: apavili - maswow.<br> guesses: 4 time: 0:02:44:01 (3) c/s: 8465 trying: Cbguc7 - CALib3<br> guesses: 4 time: 0:04:06:13 (3) c/s: 8562 trying: patm1et - delsabo<br> guesses: 4 time: 0:04:26:38 (3) c/s: 8638 trying: n0njost - bgssie1<br> guesses: 4 time: 0:05:04:12 (3) c/s: 8367 trying: ttuapte2 - audhungh<br> guesses: 4 time: 0:05:39:56 (3) c/s: 9170 trying: Mt0hyy - mieale<br> guesses: 4 time: 0:06:47:06 (3) c/s: 9454 trying: f90mg - pRgz4<br> guesses: 4 time: 0:06:47:11 (3) c/s: 9455 trying: f1sfy - SyP00<br> guesses: 4 time: 0:08:00:00 (3) c/s: 9240 trying: acutmd - cdugyy<br> guesses: 4 time: 0:09:31:39 (3) c/s: 8929 trying: pretonto - biohtw70</font><br> <br> Pewnie za kilka dni by znalaz³ has³o. Ale niestety muszê mu ju¿ przerwaæ t± &quot;zabawê&quot;.<br> Podsumowanie:<br> <br> <font color=#478DE7>C:\john>john -show passwd<br> root:a:0:0:leho:/root:/bin/bash<br> shit:dupa:1000:1000:leho,,,:/home/shit:/bin/bash<br> alterego:a:1001:1001:leho,,,:/home/alterego:/bin/bash<br> floopy:pryta:1002:1002:Wizard:/home/floopy:/usr/bin/flin<br> jola:aloj:0:0:glupia malpa:/home:/bin/bash<br> hacker:NO PASSWORD:0:0:root:/home/bin/bash<br> marta:NO PASSWORD:1004:1004:niezla laska:/home/bin/bash<br> kot:NO PASSWORD:0:0:kociak:/home/bin/bash<br> <br> 8 passwords cracked, 1 left</font><br> <br></td></tr><tr><td width=514 colspan=3><hr color=#000000 size=1></td></tr><tr><td width=514 colspan=3><p align=right class=9ptV><a href=mailto:leho@cybertech.prv.pl class=link2><b>Leho</b></a></td></tr></table></div></td><td width=4 bgcolor=#000000 height=558>&nbsp;</td></tr><tr><td width=3 bgcolor=#000000 height=20 rowspan=2>&nbsp;</td><td width=171 bgcolor=#0080C0 height=20 valign=top rowspan=2>&nbsp;</td><td width=4 bgcolor=#000000 height=20 rowspan=2>&nbsp;</td><td width=539 bgcolor=#F3F3F3 height=15 valign=top><hr color=#000000 size=1 width=95%></td><td width=4 bgcolor=#000000 height=20 rowspan=2>&nbsp;</td></tr><tr><td width=539 bgcolor=#F3F3F3 height=20 valign=top><p align=center class=9ptV>Copyright &copy; MagaZin 2001-2002</td></tr></table></div></body></html>
<html><head><meta http-equiv=Content-Type content="text/html; charset=iso-8859-2"><link rel=stylesheet href=magazin.css TYPE=text/css><title>MagaZin #10 :: maj 2002</title></head><body link=#478DE7 vlink=#478DE7 alink=#478DE7 topmargin=0 bottommargin=0 bgcolor=#000000><div align=center><center><table border=0 width=650 style="border-style: solid; border-width: 0" cellspacing=0 cellpadding=0 height=100% bgcolor=#FFFFFF><tr><td width=100% height=20 valign=top></td></tr></center><tr><td width=100% height=25 valign=middle bgcolor=#4048A8><div align=center><table border=0 width=583 cellspacing=0 cellpadding=0><center><td width=400 class=9ptV valign=bottom colspan=3><p class=9ptV><font color=#FFFFFF><b>MAGAZIN #10 :: STRONA 25</b></font></td></center><td width=133 class=9ptV valign=bottom><p align=right><font color=#FFFFFF><img border=0 src=../img/direct.gif width=7 height=10><img border=0 src=../img/direct3.gif width=7 height=10><img border=0 src=../img/direct2.gif width=7 height=10></font></td><center><td width=8 class=9ptV valign=bottom></td><td width=55 class=9ptV><b><font color=#FFFFFF>KOMPUTER</font></b></td></table></center></div></td></tr><center><tr><td width=100% height=5 valign=top><p class=9ptV>&nbsp;</td></tr><tr><td width=100% height=20 valign=bottom><div align=center><table border=0 width=586 height=20 cellspacing=0 cellpadding=0><tr><td width=135 background=../img/line3.gif><p align=right><img border=0 src=../img/line.gif width=9 height=20></td><td width=310 valign=bottom><p align=center class=9ptV><a href=24.htm class=link2><font color=#4048A8>poprzednia strona</font></a><font color=#4048A8>:: </font><a href=spis.htm class=link2><font color=#4048A8>spis tre¶ci</font></a><font color=#4048A8>:: </font><a href=26.htm class=link2><font color=#4048A8>nastêpna strona</font></a></td><td width=135 background=../img/line3.gif><img border=0 src=../img/line2.gif width=9 height=20></td></tr></table></div></td></tr></center><center><tr><td width=100% height=5 valign=top><p class=9ptV>&nbsp;</td></tr><tr><td width=100% height=21 valign=top><div align=center><center><table border=0 width=600 cellspacing=0 cellpadding=6 height=20 bgcolor=#FFFFFF><tr><td width=285 height=20 valign=top class=9pt><div align=center><center><table border=0 width=100% cellspacing=0 cellpadding=0><tr><td width=100% valign=top class=9ptV height=15><i>Software</i></td></tr><tr><td width=100%><p class=u>Kurs C++ #3</td></tr></table></center></div><p class=9ptV align=justify><b>Ci±g arytmetyczny jako obiekt</b><br> <br> W tym odcinku zajmiemy siê wreszcie elementami programowania obiektowego. Ci±g arytmetyczny, który poprzednio zdefiniowali¶my jako strukturê, teraz stanie siê obiektem.<br> Obiekt w C++ mo¿e zawieraæ w sobie pewne zmienne i inne obiekty oraz funkcje, które na nim dzia³aj± &#8211; funkcje sk³adowe zwane metodami. W odró¿nieniu od obiektu, struktura (rozumiana w klasycznym ujêciu jêzyka C) sk³ada siê ze zmiennych lub innych struktur, ale nie zawiera funkcji sk³adowych. Okre¶lanie obiektów wraz ze zmiennymi opisuj±cymi te obiekty (atrybutami) lub obiektami sk³adowymi oraz akcjami, jakie mo¿na przeprowadziæ na danym obiekcie to podstawa programowania obiektowego.<br> <br> W naszym przypadku chcemy tylko jeden obiekt &#8211; ci±g arytmetyczny. Okre¶laj±ce go atrybuty to pierwszy wyraz oraz ró¿nica. Funkcj±, jak± mo¿na wywo³aæ dla tego obiektu mo¿e byæ obliczanie n-tego wyrazu tego ci±gu. A teraz jak to zrobiæ w C++:<br> <br> <font color=#4048A8>#include &lt;iostream.h><br> <br> class ciag_arytmetyczny<br> {<br> private:<br> float w1; // Pierwszy wyraz<br> float r; // Roznica ciagu arytmetycznego<br> <br> public:<br> ciag_arytmetyczny(float zw1, float zr): w1(zw1),r(zr)<br> {}<br> float wyraz(int n);<br> };<br> <br> float ciag_arytmetyczny::wyraz(int n)<br> {<br> return ( w1 + (n - 1) * r );<br> }<br> <br> main()<br> {<br> ciag_arytmetyczny a(1.0f, 3.5f), b(20.0f, -4);<br> <br> for(int i=1 ; i&lt;=10 ; i++)<br> {<br> cout &lt;&lt; "wyraz " &lt;&lt; i &lt;&lt; " ciagu a jest rowny " &lt;&lt; a.wyraz(i) &lt;&lt;endl;<br> }<br> <br> cout&lt;&lt;&quot;==========================<br> =========&quot;&lt;&lt;endl;<br> <br> for(i=1 ; i&lt;=10 ; i++)<br> {<br> cout &lt;&lt; "wyraz " &lt;&lt; i &lt;&lt; " ciagu b jest rowny " &lt;&lt; b.wyraz(i) &lt;&lt;endl;<br> }<br> <br> return 0;<br> }</font><br> <br> Definiujemy klasê ciag_arytmetyczny. Klasê mo¿na traktowaæ jak zdefiniowanie nowego typu obiektu. W klasie podajemy sk³adniki klasy &#8211; zmienne i metody. Mamy dwie zmienne prywatne (mówi o tym s³owo kluczowe private): w1 i r &#8211; obie typu float. Zmiennych prywatnych klasy nie da siê bezpo¶rednio modyfikowaæ, np. tworz±c jaki¶ obiekt klasy ciag_arytmetyczny:<br> ciag_arytmetyczny a(1, 2);<br> nie mo¿na odwo³aæ siê do pierwszego wyrazu tego ci±gu poprzez: a.w1</td><td width=285 height=20 valign=top class=9pt><p class=9ptV align=justify>Dostêp do takich zmiennych mo¿liwy jest tylko poprzez funkcje wewnêtrzne klasy. W klasie ciag_arytmetryczny s± dwie funkcje wewnêtrzne. Obie s± publiczne (public), dziêki czemu mamy do nich dostêp i mo¿emy je wywo³ywaæ na rzecz danego obiektu. Pierwsza z nich ma tak± sam± nazwê jak klasa i zwraca ¿adnej warto¶ci (nawet void!). Taka funkcja nazywa siê konstruktorem i jest automatycznie wykonywana w chwili stworzenia obiektu danej klasy. Najczê¶ciej jej zadaniem jest zainicjalizowanie zmiennych wystêpuj±cych w danym obiekcie. W naszym programie konstruktor przyjmuje dwa argumenty typu float i inicjalizuje nimi zmienne w1 i r. S± one od razu inicjalizowane na tzw. li¶cie inicjalizacyjnej konstruktora, ale równie dobrze mog³yby byæ zainicjalizowane w nastêpuj±cy (mo¿e bardziej czytelny) sposób:<br> <br> <font color=#4048A8>ciag_arytmetyczny(float zw1, float zr)<br> {<br> w1 = zw1;<br> r = zr;<br> }</font><br> <br> Druga funkcja to zwracaj±ca liczbê float funkcja wyraz. Jej zadaniem jest obliczenie n-tego wyrazu ci±gu geometrycznego. W ciele klasy znajduje siê tylko deklaracja tej funkcji: float wyraz(int n);<br> Definicja:<br> <br> <font color=#4048A8>float ciag_arytmetyczny::wyraz(int n)<br> {<br> return ( w1 + (n - 1) * r );<br> }</font><br> <br> znajduje siê poza cia³em. W takim przypadku przed nazw± funkcji w definicji nale¿y podaæ klasê, z której funkcja pochodzi, pó¼niej dwa dwukropki.<br> Teraz przejd¼my do main() i zobaczmy, co nasz program robi. Najpierw tworzone s± dwa obiekty klasy ciag_geometryczny. Przy ka¿dym obiekcie podajemy w nawiasach pierwszy wyraz i ró¿nicê ci±gu (te warto¶ci zostan± u¿yte przez konstruktor do inicjalizacji odpowiednich zmiennych tych obiektów).<br> Nastêpnie wykonujemy pêtlê:<br> <br> <font color=#4048A8>for(int i=1 ; i&lt;=10 ; i++)<br> { cout &lt;&lt; "wyraz " &lt;&lt; i &lt;&lt; " ciagu a jest rowny " &lt;&lt; a.wyraz(i) &lt;&lt;endl;}</font><br> <br> w której wypisujemy wyrazy ci±gu arytmetycznego a, od pierwszego do dziesi±tego. W pêtli tego typu wykonuje siê okre¶lona ilo¶æ powtórzeñ instrukcji z bloku zgrupowanego miêdzy { i }, który nastêpuje po instrukcji for(,,). Instrukcja for(inicjalizacja_zmiennych, warunek, instrukcja) wykonuje siê, dopóki warunek jest spe³niony, czyli aby dziesiêæ razy pêtla siê wykona³a, mo¿na wykorzystaæ konstrukcjê for(int i=1 ; i&lt;=10 ; i++).<br> Do wypisywania na ekran korzystamy z cout, a warto¶æ wyrazów ci±gu zwraca nam za ka¿dym razem wywo³ywana na rzecz obiektu a funkcja a.wyraz(i), której przekazujemy numer wyrazu (zmienna i, która w pêtli zmienia siê od 1 do 10 w³±cznie).<br> Tego samego typu pêtlê wykorzystujemy do wypisania dziesiêciu pierwszych wyrazów ci±gu b. Jednak¿e teraz tylko wykorzystujemy zmienn± i w pêtli (ju¿ jej nie definiujemy, bo zdefiniowana zosta³a w poprzedniej). St±d nie ma int w pêtli for(i=1 ; i&lt;=10 ; i++).<br> Na zakoñczenie porównaj dzisiejszy program i program z poprzedniego miesi±ca.</p></center></center><div align=justify><p class=9ptV align=right><font color=#000000><b>Ralfik</b><br> </font><a href=mailto:ralphick@poczta.onet.pl class=link2><font color=#4048A8>ralphick@poczta.onet.pl</font></a></div></td></tr></table></div></td></tr><tr><td width=100% height=20 valign=bottom><div align=center><table border=0 width=586 height=20 cellspacing=0 cellpadding=0><tr><td width=135 background=../img/line3.gif><p align=right><img border=0 src=../img/line.gif width=9 height=20></td><td width=310 valign=bottom><p align=center class=9ptV><a href=24.htm class=link2><font color=#4048A8>poprzednia strona</font></a><font color=#4048A8>:: </font><a href=spis.htm class=link2><font color=#4048A8>spis tre¶ci</font></a><font color=#4048A8>:: </font><a href=26.htm class=link2><font color=#4048A8>nastêpna strona</font></a></td><td width=135 background=../img/line3.gif><img border=0 src=../img/line2.gif width=9 height=20></td></tr></table></div></td></tr><tr><td width=100% height=20 valign=top>&nbsp;</td></tr><tr><td width=100% height=25 valign=middle bgcolor=#4048A8><div align=center><table border=0 width=583 cellspacing=0 cellpadding=0><center><td width=596 class=9ptV valign=bottom colspan=6><p class=9ptV align=center><font color=#FFFFFF><b>WSZELKIE PRAWA ZASTRZE¯ONE:: COPYRIGHT &copy; MAGAZIN 2001-2002</b></font></td></center><center></table></center></div></td></tr><tr><td width=100% height=20 valign=top>&nbsp;</td></tr></table></div></body></html>
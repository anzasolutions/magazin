<html><head><meta http-equiv=Content-Type content="text/html; charset=iso-8859-2"><link rel=stylesheet href=magazin.css TYPE=text/css><title>MagaZin #9 :: marzec 2002</title></head><body link=#478DE7 vlink=#478DE7 alink=#478DE7 topmargin=0 bottommargin=0 bgcolor=#000000><div align=center><center><table border=0 width=650 style="border-style: solid; border-width: 0" cellspacing=0 cellpadding=0 height=100% bgcolor=#FFFFFF><tr><td width=100% height=20 valign=top></td></tr></center><tr><td width=100% height=25 valign=middle bgcolor=#4048A8><div align=center><table border=0 width=583 cellspacing=0 cellpadding=0><center><td width=400 class=9ptV valign=bottom colspan=3><p class=9ptV><font color=#FFFFFF><b>MAGAZIN #9 :: STRONA 26</b></font></td></center><td width=133 class=9ptV valign=bottom><p align=right><font color=#FFFFFF><img border=0 src=../img/direct.gif width=7 height=10><img border=0 src=../img/direct3.gif width=7 height=10><img border=0 src=../img/direct2.gif width=7 height=10></font></td><center><td width=8 class=9ptV valign=bottom></td><td width=55 class=9ptV><b><font color=#FFFFFF>KOMPUTER</font></b></td></table></center></div></td></tr><center><tr><td width=100% height=5 valign=top><p class=9ptV>&nbsp;</td></tr><tr><td width=100% height=20 valign=bottom></center><div align=center><table border=0 width=586 height=20 cellspacing=0 cellpadding=0><tr><td width=135 background=../img/line3.gif><p align=right><img border=0 src=../img/line.gif width=9 height=20></td><center><td width=310 valign=bottom><p align=center class=9ptV><a href=25.htm class=link2><font color=#4048A8>poprzednia strona</font></a><font color=#4048A8> :: </font><a href=spis.htm class=link2><font color=#4048A8>spis tre¶ci</font></a><font color=#4048A8> :: </font><a href=27.htm class=link2><font color=#4048A8>nastêpna strona</font></a></td><td width=135 background=../img/line3.gif><img border=0 src=../img/line2.gif width=9 height=20></td></tr></table></center></div></td></tr><center><tr><td width=100% height=5 valign=top><p class=9ptV>&nbsp;</td></tr><tr><td width=100% height=21 valign=top><div align=center><center><table border=0 width=600 cellspacing=0 cellpadding=6 height=20 bgcolor=#FFFFFF><tr><td width=285 height=20 valign=top class=9pt><div align=center><center><table border=0 width=100% cellspacing=0 cellpadding=0><tr><td width=100% valign=top class=9ptV height=15><i>Software</i></td></tr><tr><td width=100%><p class=u>Batch</td></tr></table></center></div><div align=justify><p class=9ptV><font color=#000000>Batch to inaczej pliki wsadowe dla systemu DOS (maj± rozszerzenie *.bat). Potrafi± one sterowaæ innymi programami, wywo³ywaæ ró¿ne polecenia itp. W³a¶ciwie (prawie) ka¿dy programista zaczyna³ od pisania plików wsadowych, gdy¿ nadaj± siê one idealnie do spe³niania warunków stawianych przed ma³ymi i prostymi programami. Do zalet plików batch nale¿± prostota pisania (wymagana jest jedynie podstawowa znajomo¶æ DOS-u), obs³uga (prostych) komunikatów, plików, oraz nie wymagana jest kompilacja.<br> To, co trzeba wymieniæ na pierwszym miejscu, co sprawia, ¿e te pliki maj± jak±kolwiek warto¶æ programistyczn± to:<br> - polecenie warunkowe IF<br> - polecenie GOTO<br> - obs³uga zmiennych i parametrów wsadowych<br> - oraz polecenie CHOICE<br> <br> <b>IF</b><br> <br> S³u¿y do warunkowego przetwarzania polecenia. Jego budowa jest jednowierszowa (IF warunek polecenie), co utrudnia nieznacznie korzystanie z niego (ale bez przesady). Mo¿na to omin±æ w prosty sposób:</font></div><div align=justify><p class=9ptV align=left><font color=#4048A8>IF NOT warunek GOTO KoniecIf<br> (tutaj polecenia)<br> :KoniecIf<br> <br> </font><font color=#000000>IF mo¿e mieæ budowê:</font><font color=#4048A8><br> <br> IF [NOT] &quot;%zmienna1%&quot;==&quot;%zmienna2%&quot; jakies_polecenie&nbsp;<br> (sprawdza czy zmienne s± takie same)&nbsp;<br> IF [NOT] EXIST nazwa_pliku wywo³ywane_polecenie&nbsp;<br> (sprawdza czy istnije plik)&nbsp;<br> IF [NOT] ERRORLEVEL liczba wywo³ywane_polecenie&nbsp;<br> (sprawdza zwrócon± warto¶æ przez ostatni program)</font></div><p class=9ptV align=justify><font color=#000000><b>GOTO&nbsp;</b><br> <br> Polecenie oznacza inaczej "Id¼ do". Po wywo³aniu GOTO etykieta wykonywanie pliku wsadowego zostaje przesuniête do etykiety wskazanej przez polecenie GOTO. Etykieta musi byæ rozpoczynaæ siê z nowej linii i rozpoczynaæ siê dwukropkiem (:etykieta). GOTO najczê¶ciej jest wykorzystywane wraz z poleceniem IF.</font></td><td width=285 height=20 valign=top class=9pt></center></center><center><div align=justify><p class=9ptV><font color=#000000><b>SET</b><br> <br> Zmienne w plikach wsadowych s± bardzo proste i w³a¶ciwie ma³o u¿yteczne. Wszystkie zmienne s± wy³±cznie tekstowe. Aby utworzyæ zmienn± (lub zmodyfikowaæ jej warto¶æ) trzeba pos³u¿yæ siê poleceniem SET:<br> <br> </font><font color=#4048A8>SET nazwa_zmiennej=warto¶æ</font><font color=#000000><br> <br> Aby wywo³aæ zmienn± trzeba j± opatrzyæ w % (procenty). Wygl±da to tak:<br> <br> </font><font color=#4048A8>ECHO %nazwa_zmiennej%</font><font color=#000000><br> <br> DOS i Windows tworz± w³asne zmienne (¶rodowiskowe). Niektóre zminne s± tworzone w plikach autoexec.bat czy msdos.sys (np. %windir%). Aby wy¶wietliæ te zmienne wpisz SET bez parametrów<br> Parametry wsadowe, czyli zmienne podane dla pliku w wierszu poleceñ s± wywo³ywane w podobny sposób jak zmienne z procentami np. %1 %2. Liczba po znaku % (procent) to kolejny numer parametru. Ciekawostk± jest %0, które oznacza polecenie przed parametrami (czyli nazwê pliku batch).&nbsp;<br> <br> <b>CHOICE</b><br> <br> Jest to polecenie wyboru. Umo¿liwia u¿ytkownikowi wybór jednej z (tylko) dwóch opcji. Po dokonaniu wyboru CHOICE zwraca odpowiedni± warto¶æ (ERRORLEVEL). Np.:<br> <br> </font><font color=#4048A8>@ECHO OFF<br> CHOICE Tak czy nie?<br> IF NOT ERRORLEVEL 2 ECHO Wybrano TAK<br> IF ERRORLEVEL 2 ECHO Wybrano NIE</font><font color=#000000><br> <br> Albo:<br> <br> </font><font color=#4048A8>@ECHO OFF<br> ECHO 1. Opcja pierwsza<br> ECHO 2. Opcja druga<br> CHOICE /c:12 /n<br> IF NOT ERRORLEVEL 2 ECHO Wybrano opcje 1<br> IF ERRORLEVEL 2 ECHO Wybrano opcje 2</font><font color=#000000><br><br> I to tak by wszystko wygl±da³o z grubsza na ten temat :).</font></div></center><div align=justify><p class=9ptV align=right><font color=#000000><b>Loopus</b><br> </font><a href=mailto:lupusfm@poczta.onet.pl class=link2><font color=#4048A8>lupusfm@poczta.onet.pl<br></font></a></div></td></tr></table></div></td></tr><tr><center><td width=100% height=20 valign=bottom></center><div align=center><table border=0 width=586 height=20 cellspacing=0 cellpadding=0><tr><td width=135 background=../img/line3.gif><p align=right><img border=0 src=../img/line.gif width=9 height=20></td><center><td width=310 valign=bottom><p align=center class=9ptV><a href=25.htm class=link2><font color=#4048A8>poprzednia strona</font></a><font color=#4048A8> :: </font><a href=spis.htm class=link2><font color=#4048A8>spis tre¶ci</font></a><font color=#4048A8> :: </font><a href=27.htm class=link2><font color=#4048A8>nastêpna strona</font></a></td><td width=135 background=../img/line3.gif><img border=0 src=../img/line2.gif width=9 height=20></td></tr></table></center></div></td></tr><tr><td width=100% height=20 valign=top>&nbsp;</td></tr><tr><td width=100% height=25 valign=middle bgcolor=#4048A8><div align=center><table border=0 width=583 cellspacing=0 cellpadding=0><center><td width=596 class=9ptV valign=bottom colspan=6><p class=9ptV align=center><font color=#FFFFFF><b>WSZELKIE PRAWA ZASTRZE¯ONE :: COPYRIGHT &copy; MAGAZIN 2001-2002</b></font></td></center><center></table></center></div></td></tr><tr><td width=100% height=20 valign=top>&nbsp;</td></tr></table></div></body></html>
<html><head><meta http-equiv=Content-Type content="text/html; charset=iso-8859-2"><link rel=stylesheet href=magazin.css TYPE=text/css><title>MagaZin
#12 :: sierpieñ 2002</title></head><body link=#478DE7 vlink=#478DE7 alink=#478DE7 topmargin=0 bottommargin=0 bgcolor=#000000><div align=center><center><table border=0 width=650 style="border-style: solid; border-width: 0" cellspacing=0 cellpadding=0 height=100% bgcolor=#FFFFFF><tr><td width=100% height=20 valign=top></td></tr></center><tr><td width=100% height=25 valign=middle bgcolor=#4048A8><div align=center><table border=0 width=583 cellspacing=0 cellpadding=0><center><td width=400 class=9ptV valign=bottom colspan=3><p class=9ptV><font color=#FFFFFF><b>MAGAZIN
            #12 :: STRONA 21</b></font></td></center><td width=133 class=9ptV valign=bottom><p align=right><font color=#FFFFFF><img border=0 src=../img/direct.gif width=7 height=10><img border=0 src=../img/direct3.gif width=7 height=10><img border=0 src=../img/direct2.gif width=7 height=10></font></td><center><td width=8 class=9ptV valign=bottom></td><td width=55 class=9ptV><b><font color=#FFFFFF>KOMPUTER</font></b></td></table></center></div></td></tr><center><tr><td width=100% height=5 valign=top><p class=9ptV>&nbsp;</td></tr><tr><td width=100% height=20 valign=bottom></center><div align=center><table border=0 width=586 height=20 cellspacing=0 cellpadding=0><tr><td width=135 background=../img/line3.gif><p align=right><img border=0 src=../img/line.gif width=9 height=20></td><center><td width=310 valign=bottom><p align=center class=9ptV><a href="20.htm" class="link2"><font color=#4048A8>poprzednia strona
              </a> :: </font><a href=spis.htm class=link2><font color=#4048A8>spis tre¶ci</font></a><font color=#4048A8> :: </font><a href="22.htm" class="link2"><font color=#4048A8>nastêpna strona</font></a></td><td width=135 background=../img/line3.gif><img border=0 src=../img/line2.gif width=9 height=20></td></tr></table></center></div></td></tr><center><tr><td width=100% height=5 valign=top><p class=9ptV>&nbsp;</td></tr><tr><td width=100% height=21 valign=top><div align=center><center><table border=0 width=600 cellspacing=0 cellpadding=6 height=20 bgcolor=#FFFFFF><tr><td width=285 height=20 valign=top class=9pt><div align=center><center><table border=0 width=100% cellspacing=0 cellpadding=0><tr><td width=100% valign=top class=9ptV height=15><i>Software</i></td></tr><tr><td width=100%><p class=u>Kurs WML
                      #8</td></tr></table></center></div><p class=9ptV align=justify><b>PHP</b><br>
              <br>
              W tym rozdziale zamierzam wprowadziæ czytelnika do ¶wiata PHP. Nie ma to byæ w ¿adnym b±d¼ razie podrêcznik tego jêzyka- jest to bowiem kurs WML, a ta czê¶æ ma wskazaæ w jaki sposób mo¿emy wykorzystaæ PHP, ma zachêciæ do nauczenia siê tego jêzyka - bêdziesz wtedy móg³ tworzyæ interaktywne, profesjonalne witryny zarówno WML jak i HTML !!!&nbsp;<br>
              <br>
              <b>
              Co to jest PHP ?</b><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
     Mówi±c najpro¶ciej jest to ¶rodowisko programistyczne, umo¿liwiaj±ce ³±czenie kodu WML (lub HTML) i kodu skryptu. Jêzyk PHP jest kodem skryptowym, który jest wykonywany po stronie serwera. Co to oznacza ? Otó¿ je¶li ogl±dasz jak±¶ stronê stworzon± z u¿yciem PHP, to poza rozszerzeniem pliku ( .php lub .php3) nie znajdziesz w takim kodzie niczego szczególnego. Po prostu wszystkie funkcje wykonywane s± jeszcze na serwerze, a do Ciebie dociera gotowy, wygenerowany kod
              WML.<br>
              <br>
              <b>
              Jak umie¶ciæ kod PHP w kodzie wml ?</b><br><br>
     Najpro¶ciej bêdzie zrobiæ to u¿ywaj±c znaczników <font color="#4048A8"> &lt;? echo "Witaj Swiecie" ?></font> Bardziej zalecane jest jednak u¿ycie znaczników
              <font color="#4048A8"> &lt;?PHP echo "Witaj Swiecie" ?></font> Oczywi¶cie plik z takimi znacznikami trzeba jeszcze zapisaæ z rozszerzeniem
              <font color="#4048A8"> .php </font> lub <font color="#4048A8"> .php3</font> i od tej chwili staje siê on programem PHP.<br>
              Pamiêtaj ¿e PHP ró¿nicuje du¿e i ma³e litery ! Wszystkie instrukcje PHP musz± byæ zakoñczone ¶rednikami ! Podobnie jak w wml, tu tak¿e mo¿esz stosowaæ komentarze, maj± one jednak odmienn± budowê;<br>
              <font color="#4048A8">
              <br>
              /* to jest komentarz */<br>
              // to tak¿e jest komentarz<br>
              # a to ostatni sposob na komentarze w PHP<br>
              </font>
              <br>
              I na tym wypada mi zakoñczyæ te kilka s³ów wprowadzenia do PHP - to naprawdê zbyt obszerny temat, aby w kilku zdaniach nauczyæ programowania, a poza tym to jest kurs WML, a nie PHP. Poni¿ej poka¿ê w jaki sposób mo¿na wykorzystaæ PHP do przetwarzania danych z formularzy. Mam nadziejê ¿e te pro¶ciutkie skrypty nie sprawi± k³opotu.<br>
              <br>
              <b>
              Przyk³ad 1</b><br><br>
              W rozdziale "FORMULARZE" dowiedzia³e¶ siê w jaki sposób mo¿na stworzyæ pola tekstowe, aby stworzyæ komunikacjê z u¿ytkownikiem serwisu. Uci±³em jednak w pewnym miejscu, streszczaj±c ¿e reszt± zajmuje siê skrypt. Przypomnijmy;&nbsp;<br>
              <br>
              <font color="#4048A8">
              &lt;card id="pierwsza" title="formularze"><br>
 &lt;do type="accept" label="Wyslij"><br>
  &lt;go href="wynik.php?imie=$(imie)&amp;amp;lat=$(wiek)"/><br>
 &lt;/do><br>
   &lt;p>Podaj imie:&lt;input type="text" name="imie"/>&lt;br/><br>
    Podaj wiek:&lt;input type="text" name="wiek" format="NN"/><br>
   &lt;/p><br>
              &lt;/card></font><br>
              <br>
              <br>
              <br>
              Ten plik proponujê zapisaæ w pliku <font color="#4048A8"> "form.wml"</font><br>
              Warto zwróciæ uwagê na trzeci± linijkê kodu; przy adresie do którego ma siê odwo³ywaæ odno¶nik
              (<font color="#4048A8">wynik.php</font>) pojawi³ siê znak zapytania i ró¿ne dziwne znaczki. Otó¿ w ten sposób przekazujemy do nastêpnej karty dane pobrane z formularza. Ka¿da zmienna (poprzedzona znakiem dolara) reprezentuje jedno pole. Np. warto¶æ zmiennej $wiek, zostaje teraz zapisana w zmiennej $lat i tak± nazw± zmiennej bêdziemy siê pos³ugiwali wykorzystuj±c dane z formularza na nastêpnej karcie. Analogiczna sytuacja ze zmienn± $imie.<br>
              <br>
              A oto kod ¼ród³owy pliku wynik.php do którego odwo³ywa³ siê link na poprzedniej karcie;<br>
              <br>
              <font color="#4048A8">
 1<br>
 2<br>
 3<br>
 4<br>
 5<br>
 6<br>
 7<br>
 8<br>
 9<br>
              10<br>
              11<br>
              12<br>
              13<br>
              <br>
 &lt;?PHP<br>
 header ("Content-type: text/vnd.wap.wml");<br>
 echo "&lt;?xml version=\"1.0\"?>";<br>
              ?><br>
              &lt;!DOCTYPE wml PUBLIC "-//WAPFORUM//DTD WML 1.1//EN"<br>
		"http://www.wapforum.org/DTD/wml_1.1.xml"><br>
 &lt;wml><br>
  &lt;card id="card1" title="Karta z PHP"><br>
   &lt;p align="center">Witaj &lt;?PHP echo $imie; ?> !&lt;br/><br>
    Masz&lt;?PHP echo $lat; ?> lat !<br>
   &lt;/p><br>
  &lt;/card><br>
 &lt;/wml&gt;</font><p class=9ptV align=justify>Pierwsze cztery linie kodu s± potrzebne aby serwer rozpozna³ dokument
              wml. Nastêpne linie to ju¿ zwyk³y kod wml, pomijaj±c dwa miejsca oznaczone jako kod
              PHP. We¼my pierwszy z nich;<br>
              <br>
              <font color="#4048A8">&lt;?PHP echo $imie; ?></font><br>
              <br>
              Jest to funkcja echo, która wy¶wietla po prostu ³añcuch znaków. W tym przypadku wy¶wietla wcze¶niej w formularzu, ona zmienn±
              $imie, czyli s³owo które wpisali¶my ale mogliby¶my zamiast zmiennej wpisaæ obojêtne jakie s³owo, zdanie, zawsze funkcja ta wy¶wietli³a by je jak zwyk³y kod
              wml. Sytuacjê analogiczn± zauwa¿amy przy nastêpnym fragmencie kodu, wyró¿nionym znacznikami pocz±tku i koñca skryptu PHP - tutaj pojawia siê liczba jak± wpisali¶my w formularzu w polu obok "Podaj wiek"<br>
              Za³ó¿my ¿e w formularzu wpiszesz jako imiê "TOMEK", a jako wiek "19". Wówczas po naci¶niêciu
              &quot;Wyslij&quot; powiniene¶ zobaczyæ tak± kartê jak ta obok;<br>
            </td><td width=285 height=20 valign=top class=9pt></center></center>
          <p class="9ptV" align="justify"><br>
          <b>
          Przyk³ad 2</b><br><br>
          Teraz spróbujemy ze skryptem który bêdzie wysy³a³ wyniki formularza na podany adres e-mail.<br>
          Powiedzmy ¿e chcemy zbieraæ adresy odwiedzaj±cych nasz± witrynê, aby potem móc ich informowaæ o aktualizacjach i zapraszaæ do ponownych odwiedzin. W tym celu, najpierw tworzymy prost± kartê wml, zawieraj±c± jedno pole tekstowe.<br>
          <br>
          <font color="#4048A8">
          &lt;?xml version="1.0"?><br>
          &lt;!DOCTYPE wml PUBLIC "-//WAPFORUM//DTD WML 1.1//EN"<br>
	"http://www.wapforum.org/DTD/wml_1.1.xml"><br>
 &lt;wml><br>
  &lt;card id="pierwsza" title="Obsluga formularza"><br>
   &lt;do type="accept" label="Wyslij"><br>
	&lt;go href="mail.php?adres=$(mail)"/><br>
   &lt;/do><br>
	&lt;p><br>
     Podaj adres:&lt;input type="text" name="mail"/><br>
	&lt;/p><br>
  &lt;/card><br>
 &lt;/wml><br>
          </font>
          <br>
          Po wybraniu "Wyslij" ci±g znaków który wpisali¶my w polu "Podaj adres" zostanie przes³any do pliku
          <font color="#4048A8"> mail.php</font> ukryty pod zmienn± $adres. A oto kod ¼ród³owy pliku
          <font color="#4048A8">mail.php</font>;<br><br> <font color="#4048A8"> 1<br>
          2<br>
          3<br>
          4<br>
          5<br>
          6<br>
          7<br>
          8<br>
          9<br>
          10<br>
          11<br>
          12<br>
          13<br>
          14<br>
          15<br>
          17<br>
          18<br>
          19 &lt;?PHP<br>
 header ("Content-type: text/vnd.wap.wml");<br>
 echo "&lt;xml version=\"1.0\"?>";<br>
          ?><br>
          &lt;!DOCTYPE wml PUBLIC "-//WAPFORUM//DTD WML 1.1//EN"<br>
          "http://www.wapforum.org/DTD/wml_1.1.xml"><br>
 &lt;wml><br>
          &lt;?PHP<br>
 $temat="To jest list z wml";<br>
 $adresat="liberator@hot.pl";<br>
 $tresc="Adres odwiedzaj±cego stronê: $adres";<br>
 mail($adresat, $temat, $tresc, "From: Skrypt PHP &lt;liberator@hot.pl>");<br>
          ?><br>
  &lt;card id="card1" title="Wysylka"><br>
   &lt;p align="center">Wiadomosc zostala wyslana<br>
   &lt;/p><br>
  &lt;/card><br>
 &lt;/wml>&nbsp;</font><br>
          <br>
          Jak pewnie zauwa¿y³e¶ ten skrypt jest trochê bardziej skomplikowany od poprzedniego. Pierwsze cztery linie spe³niaj± t± sam± funkcjê co w poprzednim przyk³adzie, dalej od 5 do 7 prolog i znacznik otwieraj±cy dokument wml.<br>
          Linie 8 do 11 to okre¶lanie zmiennych potrzebnych w skrypcie do wys³ania mail`a; zaraz dowiesz siê jak ich u¿yjemy.<br>
          Zmienna któr± nazwa³em $temat okre¶la temat listu który zostanie wys³any, $adresat to adres na który ma byæ wys³any list, $tresc to zawarto¶æ przesy³ki; "Adres odwiedzaj±cego stronê: $adres", jak zauwa¿y³e¶ wreszcie u¿yli¶my zmiennej któr± okre¶li³a osoba wype³niaj±ca formularz, czyli jej adres e-mail.<br>
          Linia 12 to funkcja wysy³aj±ca pocztê elektroniczn±; tworzymy j± w nastêpuj±cy sposób:<br>
          <font color="#4048A8">
          <br>
          mail(odbiorca_przesy³ki temat_listu tre¶æ_wiadomo¶ci dodatkowe_nag³ówki)</font><br>
          <br>
          W naszym przypadku odbiorc± przesy³ki jest adres który "kryje siê" pod zmienn± $adresat, analogicznie temat_listu to $temat, tre¶æ_wiadomo¶ci to $tresc, mo¿emy jeszcze zdefiniowaæ jaki bêdzie adres zwrotny listu. Prawda, ¿e ³atwe ?<br>
          Linia 13 to oczywi¶cie zamkniêcie skryptu, a pozosta³e to kod karty wml jaka bêdzie siê pojawiaæ po wys³aniu listu.<br>
          <br>
          Mam nadziejê ¿e powy¿sze przyk³ady nie tylko oka¿± siê przydatne, ale i zachêc± do nauki programowania w PHP. Polecam ksi±¿kê wydawnictwa Helion pt.
          <font color="#4048A8"> "PHP3 Internetowe aplikacje bazodanowe"</font> oraz ma³± acz bardzo przydatn± ksi±¿eczkê
          <font color="#4048A8"> "PHP Leksykon kieszonkowy&quot;</font>. Odradzam za¶ chyba pierwsz± w ogóle publikacjê na temat PHP -
          <font color="#4048A8"> "PHP3"</font> autorstwa Leona Atkinsona- je¿eli wcze¶niej nie programowa³e¶ w ¿adnym jêzyku, to mo¿esz mieæ trudno¶ci ze "strawieniem" tej pozycji.<br>
          A mo¿e piszesz ju¿ programy PHP i chcia³by¶ podzieliæ siê z innymi jakim¶ przydatnym przy tworzeniu kart wml skryptem ? Je¶li tak to pode¶lij mi go, a znajdzie siê w nastêpnej wersji kursu.<br>
          Programistom którzy wol± wykorzystywaæ napisane ju¿ skrypty polecam stronê
          <font color="#4048A8"><a href="http://www.hotscripts.com"> www.hotscripts.com</a></font> - znajdziecie tam ca³e multum programów nie tylko w PHP.<br>
          </p>
          <p class=9ptV align=justify><br></p><p class=9ptV align=right><font color=#000000><b>Tomasz Libera</b><br> </font><a href=mailto:liberator@hot.pl class=link2><font color=#4048A8>liberator@hot.pl</font></a></td></tr></table></div></td></tr><tr><center><td width=100% height=20 valign=bottom></center><div align=center><table border=0 width=586 height=20 cellspacing=0 cellpadding=0><tr><td width=135 background=../img/line3.gif><p align=right><img border=0 src=../img/line.gif width=9 height=20></td><center><td width=310 valign=bottom><p align=center class=9ptV><a href="20.htm" class="link2"><font color=#4048A8>poprzednia strona
              </a> :: </font><a href=spis.htm class=link2><font color=#4048A8>spis tre¶ci</font></a><font color=#4048A8> :: </font><a href="22.htm" class="link2"><font color=#4048A8>nastêpna strona</font></a></td><td width=135 background=../img/line3.gif><img border=0 src=../img/line2.gif width=9 height=20></td></tr></table></center></div></td></tr><tr><td width=100% height=20 valign=top>&nbsp;</td></tr><tr><td width=100% height=25 valign=middle bgcolor=#4048A8><div align=center><table border=0 width=583 cellspacing=0 cellpadding=0><center><td width=596 class=9ptV valign=bottom colspan=6><p class=9ptV align=center><font color=#FFFFFF><b>WSZELKIE PRAWA ZASTRZE¯ONE :: COPYRIGHT &copy; LOOPUSNET/MAGAZIN 2001-2002</b></font></td></center><center></table></center></div></td></tr><tr><td width=100% height=20 valign=top>&nbsp;</td></tr></table></div></body></html>
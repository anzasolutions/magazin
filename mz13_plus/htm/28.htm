<html><head><meta http-equiv=Content-Type content="text/html; charset=iso-8859-2"><link rel=stylesheet href=magazin.css TYPE=text/css><title>MagaZin #13 :: pa¼dziernik 2002</title></head><body link=#478DE7 vlink=#478DE7 alink=#478DE7 topmargin=0 bottommargin=0 bgcolor=#000000><div align=center><table border=0 width=650 style="border-style: solid; border-width: 0" cellspacing=0 cellpadding=0 height=100% bgcolor=#FFFFFF><tr><td width=100% height=70 valign=middle background=../img/004b.png><div align=center><table border=0 width=550 cellspacing=0 cellpadding=0 height=28><tr><td width=550 align=center height=26 valign=bottom><p class=9ptV align=right><font color=#FFFFFF><b>MAGAZIN #13 :: STRONA 28</b></font></td></tr></table></div></td></tr><center><tr><td width=100% height=20 valign=bottom></center><div align=center><table border=0 width=586 height=20 cellspacing=0 cellpadding=0><tr><td width=135 background=../img/line3.gif><p align=right><img border=0 src=../img/line.gif width=9 height=20></td><center><td width=310 valign=bottom><p align=center class=9ptV><a href=27.htm class=link2><font color=#BD1E1E>poprzednia strona</font></a><font color=#4048A8> </font><font color=#BD1E1E>::</font><font color=#4048A8> </font><a href=spis.htm class=link2><font color=#BD1E1E>spis tre¶ci</font></a><font color=#4048A8> </font><font color=#BD1E1E>::</font><font color=#4048A8> </font><a href=29.htm class=link2><font color=#BD1E1E>nastêpna strona</font></a></td><td width=135 background=../img/line3.gif><img border=0 src=../img/line2.gif width=9 height=20></td></tr></table></center></div></td></tr><center><tr><td width=100% height=5 valign=top><p class=9ptV>&nbsp;</td></tr><tr><td width=100% height=5 valign=top><div align=center><center><table border=0 width=590 cellspacing=0 cellpadding=0><tr><td width=100% valign=top class=9ptV height=20 style="border-bottom: 1 solid #BD1E1E"><b><font color=#009830><img border=0 src=../img/kwad.gif width=8 height=8> </font></b><b><font color=#BD1E1E>IRCorner #6</font></b></td></tr><tr><td width=100%><p><font face=Impact size=7 color=#F5E1E1><span style="background-color: #BD1E1E">K</span></font><font face=Impact size=7 color=#000000>urs IRC, cz. 5</font></td></tr><tr><td width=100% valign=bottom class=9ptV height=20><a href=mailto:agaace@vitryna.pl class=link2><font color=#BD1E1E><b>AgaAce</b></font></a></td></tr><tr><td width=100% height=10></td></tr></table></center></div></td></tr><tr><td width=100% height=21 valign=top><div align=center><center><table border=0 width=600 cellspacing=0 cellpadding=6 height=20><tr><td width=50% height=10 valign=top class=9pt><p class=9ptV align=justify><b>CTCP &middot; Podstawy pisania skryptów</b><br> <br> <font color=#BD1E1E>Po przeczytaniu poprzednich czterech odcinków kursu jeste¶ ju¿ ¶rednio zaawansowanym u¿ytkownikiem IRC. W tym odcinku chcê przekazaæ ci kilka praktycznych informacji na temat komend CTCP (Client To Client Protocol). Nauczysz siê te¿ kilku prostych "sztuczek" z ich wykorzystaniem, dziêki którym byæ mo¿e zadziwisz swoich kolegów (i staniesz siê hackerem w oczach lamerów :)</font><br> <br> <img border=0 src=../img/004_n.gif style="float: left" width=22 height=38>ajwa¿niejsz± i najczê¶ciej wykorzystywan± komend± CTCP jest /PING osoba (albo /CTCP osoba PING)<br> S³u¿y ona do sprawdzania szybko¶ci transferu pomiêdzy dwoma komputerami. Np. wpisuj±c komendê /ping AgaAce sprawisz, ¿e twój komputer wy¶le do mojego komputera bardzo ma³± porcjê danych (np. jeden lub kilka pakietów). Do tych danych do³±czy pro¶bê o odpowied¼, skierowan± do mojego komputera, a nastêpnie w³±czy stoper (dok³adniejszy, ni¿ ten, który ma twój wuefista, bo mierz±cy czas w milisekundach). Kiedy mój komputer otrzyma tak± "przesy³kê", natychmiast wy¶le odpowied¼, je¿eli tylko bêdzie w stanie to zrobiæ. Twój komputer wy³±czy stoper w chwili, gdy otrzyma ode mnie odpowied¼ i program mIRC wy¶wietli w oknie statusu czas, jaki up³yn±³ od momentu wys³ania pro¶by do momentu otrzymania odpowiedzi. Dobry transfer na IRCu oznacza, ¿e ping ma warto¶æ kilku sekund. Je¿eli natomiast w odpowiedzi na ping otrzymasz np. co¶ oko³o minuty, a widzia³am ju¿ nawet przypadki, kiedy ping przekracza³ pó³ godziny (!) oznacza to najczê¶ciej, ¿e co¶ jest nie tak z po³±czeniem i s± lagi. Je¿eli wiêc twój rozmówca d³ugo nie odpowiada, niekoniecznie musi to oznaczaæ, ¿e poszed³ napiæ siê herbaty, ogl±da mecz w telewizji lub te¿ z innego powodu nie chce z tob± rozmawiaæ. W takich sytuacjach, zanim siê na niego obrazisz, najpierw sprawd¼ jego ping. Pamiêtaj jednak, ¿eby nie robiæ tego zbyt czêsto, gdy¿ mimo, i¿ s± to naprawdê niewielkie ilo¶ci danych, wielokrotne ich wysy³anie mo¿e obci±¿yæ (i tak ju¿ s³abe) po³±czenie. Poza tym jest to irytuj±ce, kiedy kto¶ co chwilê ciê sprawdza :)<br> Pewnie chcesz wiedzieæ, dlaczego a¿ tak bardzo rozpisa³am siê na temat pinga? Powód numer jeden: kliknij na przycisk "Start" i wybierz "Uruchom". W okienku, które siê pojawi wpisz "command". Otworzysz w ten sposób konsolê DOS-ow±, w której wpisz "ping". Uruchomisz program, dziêki któremu bêdziesz móg³ sprawdziæ ping np. serwera twojego ulubionego serwisu WWW czy te¿ komputera kolegi z Zimbabwe. Zatem ping to nie tylko komenda w programie mIRC ale co¶, czego u¿ywa siê powszechnie we wszystkich rodzajach sieci i na wszystkich komputerach. Drugi powód to mo¿liwo¶æ zrobienia paru fajnych rzeczy z wykorzystaniem zdarzenia ping. Spróbujemy napisaæ teraz prosty skrypt, czyli sekwencjê komend, które wykona program mIRC. Musisz wiedzieæ, ¿e ten program posiada w³asny jêzyk pisania skryptów. Jest on naprawdê prosty. Posiada pewne cechy programowania w jêzyku C i przypomina troszkê pisanie plików wsadowych pod DOSa. Je¿eli kiedykolwiek zajmowa³e¶ siê pisaniem programów w jakimkolwiek jêzyku programowania (np. Basic, Pascal, C/C++, albo nawet wysokopoziomowym typu PHP), nie powiniene¶ mieæ ¿adnych wiêkszych problemów ze zrozumieniem sk³adni programu mIRC. A wiêc do dzie³a!<br> <img border=0 src=../img/irc05_1.gif style="margin-top: 10; margin-bottom: 10" width=285 height=41><br> <img border=0 src=../img/irc05_2.gif style="margin-top: 10; margin-bottom: 10" width=285 height=42><br> Na pocz±tek kliknij na przycisk na pasku narzêdziowym oznaczony na rysunku numerem 7 (lub przycisk nr 5 i potem kliknij na zak³adkê "Remote"). Twoim oczom uka¿e siê pro¶ciutki edytor skryptów. Wyniki twojej twórczo¶ci bêd± zapisywane do pliku script.ini (który znajdziesz w katalogu z programem mIRC). Oczywi¶cie mo¿esz to zmieniæ wybieraj±c File->New lub te¿ otworzyæ dowolny plik z rozszerzeniem "ini" poleceniem File->Load->Script. Spróbuj wpisaæ cokolwiek do okienka edytora, np. co¶ w stylu:<br> <br><table border=0 width=100% style="border: 1 solid #BD1E1E" cellspacing=0 cellpadding=0 bgcolor=#F5E1E1><tr><td width=100%><div align=center><table border=0 width=269 cellspacing=0 cellpadding=0><tr><td width=267 height=8></td></tr><tr><td width=267 valign=top><p class=9ptV align=left><font color=#BD1E1E>Dopiero ucze siê pisac skrypty. To jest<br> moj pierwszy skrypt, ktory i tak nie zadziala :)))<br> ale nastepny na pewno juz bedzie dzialal...</font></td></tr><tr><td width=267 height=8></td></tr></table></div></td></tr></table><p class=9ptV align=justify>Teraz kliknij OK i odszukaj plik, w którym zapisa³e¶ skrypt.</td><td width=50% height=10 valign=top class=9pt><p class=9ptV align=justify>Kiedy go otworzysz, zobaczysz co¶ takiego:<br> <br><table border=0 width=100% style="border: 1 solid #BD1E1E" cellspacing=0 cellpadding=0 bgcolor=#F5E1E1><tr><td width=100%><div align=center><table border=0 width=269 cellspacing=0 cellpadding=0><tr><td width=267 height=8></td></tr><tr><td width=267 valign=top><p class=9ptV align=left><font color=#BD1E1E>[script]<br> n0=Dopiero ucze siê pisac skrypty. To jest<br> n1=moj pierwszy skrypt, ktory i tak nie zadziala :)))<br> n2=ale nastepny na pewno juz bedzie dzialal...</font></td></tr><tr><td width=267 height=8></td></tr></table></div></td></tr></table><p class=9ptV align=justify>Jak widzisz, jest to najzwyklejszy w ¶wiecie plik tekstowy. Mo¿esz wiêc pisaæ skrypty poza programem mIRC, w dowolnym edytorze tekstu, pamiêtaj±c tylko o tym, ¿eby w pierwszej linii umie¶ciæ znacznik [script] a kolejne linie numerowaæ, pocz±wszy od zera.<br> Teraz zamiast tych g³upstw napisz w okienku edytora co¶ takiego:<br> <br><table border=0 width=100% style="border: 1 solid #BD1E1E" cellspacing=0 cellpadding=0 bgcolor=#F5E1E1><tr><td width=100%><div align=center><table border=0 width=269 cellspacing=0 cellpadding=0><tr><td width=267 height=8></td></tr><tr><td width=267 valign=top><p class=9ptV align=left><font color=#BD1E1E>ctcp 1:ping:?:/ctcpreply $nick ping 12345 sec<br> /halt</font></td></tr><tr><td width=267 height=8></td></tr></table></div></td></tr></table><p class=9ptV align=justify>Te dwie linijki skryptu spowoduj±, ¿e twój kolega w odpowiedzi na ping zamiast prawdziwej informacji otrzyma podkre¶lony tekst, czyli "12345 sec". Na pewno zbaranieje :) Uwaga: pisz±c skrypt nie próbuj podkre¶laæ tekstu ani w ¿aden inny sposób go formatowaæ. Podkre¶leniem oznaczy³am tekst, który mo¿esz dowolnie zmieniaæ. Jak to dzia³a? Krótko mówi±c: program najpierw sprawdza, czy nie wyst±pi³o ¿±danie ping ("ctcp 1:ping:?"). Gdy takowe wyst±pi program okre¶la, co ma byæ odpowiedzi± na to zdarzenie ("?:/ctcpreply $nick ping 12345 sec", gdzie $nick oznacza ksywkê osoby, która wywo³a³a zdarzenie ping) i wstrzymuje standardow± odpowied¼ (/halt), a przy okazji koñczy dzia³anie skryptu (gdyby za /halt znajdowa³y siê jeszcze jakie¶ komendy, nie zosta³yby wykonane). Nie martw siê, je¿eli sk³adnia tego skryptu nie jest dla ciebie do koñca zrozumia³a, wiem, ¿e na pocz±tek przyda³by siê ³atwiejszy przyk³ad, ale chcia³am pokazaæ ci co¶, co bêdzie ciekawe a nie ³atwe :) Skrypty od A do Z, szczegó³owo bêdê omawiaæ troszkê pó¼niej. Mam nadziejê, ¿e ten przyk³ad zachêci ciê do eksperymentów z jêzykiem skryptów programu mIRC.<br> Wróæmy jednak do komend CTCP. Oprócz /ping istniej± jeszcze trzy:<br> <br> <b>/TIME</b> osoba (albo /CTCP osoba TIME)<br> <b>/VERSION</b> osoba (albo /CTCP osoba VERSION)<br> <b>/FINGER</b> osoba (albo /CTCP osoba FINGER)<br> <br> Dzia³aj± one bardzo podobnie do komendy /ping i tak samo mo¿na napisaæ dla nich skrypty (zastêpuj±c s³owo "ping" odpowiednio s³owem "version" lub "finger"). Komenda /time podaje czas, jaki aktualnie jest u danej osoby. Proponujê æwiczenie: wykonaæ tê komendê na koledze ze Stanów Zjednoczonych, nastêpnie sprawdziæ, w jakiej strefie czasowej siê znajduje (wystarczy okre¶liæ po³o¿enie geograficzne miasta, z którego stuka) i obliczyæ w³a¶ciwy czas przez odjêcie odpowiedniej ilo¶ci godzin od czasu GMT (w Polsce zim± mamy o godzinê pó¼niej ni¿ na po³udniku zerowym Greenwich, czyli od "naszego" czasu nale¿y odj±æ jeszcze jedn± godzinê). Po porównaniu czasów otrzymanych w wyniku obliczeñ i komendy /time bêdziemy w stanie powiedzieæ, czy dana osoba ma prawid³owo ustawiony zegar systemowy. To naprawdê lepsze ni¿ 1000 krzy¿ówek panoramicznych :)<br> Komenda /version podaje nazwê i wersjê programu IRC, którego u¿ywa dana osoba. Uwaga! ¯aden skrypt nie ukryje prawdziwej odpowiedzi version (po prostu /halt nie zadzia³a). Gdyby¶my napisali np.<br> <br><table border=0 width=100% style="border: 1 solid #BD1E1E" cellspacing=0 cellpadding=0 bgcolor=#F5E1E1><tr><td width=100%><div align=center><table border=0 width=269 cellspacing=0 cellpadding=0><tr><td width=267 height=8></td></tr><tr><td width=267 valign=top><p class=9ptV align=left><font color=#BD1E1E>ctcp 1:version:?:/ctcpreply $nick version i tak ci nie powiem jakiego programu uzywam :) | /halt</font></td></tr><tr><td width=267 height=8></td></tr></table></div></td></tr></table><p class=9ptV align=justify>odpowied¼ version bêdzie podwójna: najpierw zostanie wys³any tekst podkre¶lony, a potem prawdziw± informacjê. Ostatnia z komend CTCP, /finger, s³u¿y do uzyskania dodatkowych informacji o u¿ytkowniku (dane z pola "imiê i nazwisko", mail i czas, przez jaki dana osoba by³a nieaktywna na IRCu), niekoniecznie przydatnych, a ju¿ najlepiej nadaje siê do pisania skryptów w stylu:<br> <br><table border=0 width=100% style="border: 1 solid #BD1E1E" cellspacing=0 cellpadding=0 bgcolor=#F5E1E1><tr><td width=100%><div align=center><table border=0 width=269 cellspacing=0 cellpadding=0><tr><td width=267 height=8></td></tr><tr><td width=267 valign=top><p class=9ptV align=left><font color=#BD1E1E>ctcp 1:finger:?:/query $nick hej, nie dotykaj mnie! | /halt</font></td></tr><tr><td width=267 height=8></td></tr></table></div></td></tr></table><p class=9ptV align=justify>Owocnych eksperymentów ze skryptami ¿yczy<br> AgaAce.<div align=center><table border=0 width=100% cellspacing=0 cellpadding=0><tr><td width=100%><p align=right><font face=Arial size=1 color=#000000><img border=0 src=../img/kwad_04.gif width=8 height=8> </font><a href=http://www.magazin.prv.pl class=link><font face=Arial size=1 color=#BD1E1E>MZ</font></a></p></td></tr></table></div></td></tr></center></center></table></div></td></tr><tr><center><td width=100% height=20 valign=bottom></center><div align=center><table border=0 width=586 height=20 cellspacing=0 cellpadding=0><tr><td width=135 background=../img/line3.gif><p align=right><img border=0 src=../img/line.gif width=9 height=20></td><center><td width=310 valign=bottom><p align=center class=9ptV><a href=27.htm class=link2><font color=#BD1E1E>poprzednia strona</font></a><font color=#4048A8> </font><font color=#BD1E1E>::</font><font color=#4048A8> </font><a href=spis.htm class=link2><font color=#BD1E1E>spis tre¶ci</font></a><font color=#4048A8> </font><font color=#BD1E1E>::</font><font color=#4048A8> </font><a href=29.htm class=link2><font color=#BD1E1E>nastêpna strona</font></a></td><td width=135 background=../img/line3.gif><img border=0 src=../img/line2.gif width=9 height=20></td></tr></table></center></div></td></tr><tr><td width=100% height=65 valign=top background=../img/004c.png><div align=center><center><table border=0 width=592 cellspacing=0 cellpadding=0 height=55><tr><td width=590 height=55><p align=center class=9ptV><b><font color=#FFFFFF>WSZELKIE PRAWA ZASTRZE¯ONE :: COPYRIGHT &copy; LOOPUSNET/MAGAZIN 2001-2002</font></b></td></tr></table></center></div></td></tr></table></div></body></html>